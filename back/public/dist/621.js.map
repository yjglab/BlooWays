{"version":3,"file":"621.js","mappings":"8eAgBA,IAwEA,EAxE4C,SAAHA,GAAoD,IAA9CC,EAAID,EAAJC,KAAMC,EAAYF,EAAZE,aAAcC,EAAmBH,EAAnBG,oBAEzDC,GADOC,EAAAA,EAAAA,MACPD,QACME,GAAaC,EAAAA,EAAAA,IAAqB,aAAcC,EAAAA,GAAtDC,KACQC,GAAmBH,EAAAA,EAAAA,IACjCD,EAAW,iBAAHK,OAAoBP,EAAO,UAAW,KAC9CI,EAAAA,GAFMI,OAORC,GAIIC,EAAAA,EAAAA,MAHFC,EAAQF,EAARE,SACAC,EAAYH,EAAZG,aACaC,EAAYJ,EAAzBK,UAAaD,aAGTE,GAA4CC,EAAAA,EAAAA,cAChD,SAACC,GACC,IAAQC,EAAaD,EAAbC,SACR,OAAKA,GAAaA,EAASC,OAGvBD,EAASE,OAAS,GACbC,EAAAA,GAAAA,MAAY,0BAA2BC,EAAAA,SAEhDC,EAAAA,EAAAA,KACQ,iBAADhB,OAAkBP,EAAO,UAAU,CACtCwB,KAAMN,IAEPO,MAAK,WACJnB,IACAP,GAAoB,GACpBsB,EAAAA,GAAAA,QAAc,OAADd,OAAQW,EAAQ,aAAaI,EAAAA,GAC5C,IACCI,OAAM,SAACC,GAAU,IAAAC,EAChBC,QAAQC,IAAIH,GACZN,EAAAA,GAAAA,MAA0B,QAAfO,EAACD,EAAMI,gBAAQ,IAAAH,OAAA,EAAdA,EAAgBvB,KAAMiB,EAAAA,GACpC,IAjBOD,EAAAA,GAAAA,MAAY,kBAAmBC,EAAAA,GAkB1C,GACA,CAACvB,EAAqBC,EAASM,IAGjC,OACE0B,EAAAA,cAACC,EAAAA,EAAK,CAACC,UAAW,EAAGC,WAAW,eAAetC,KAAMA,EAAMC,aAAcA,GACvEkC,EAAAA,cAAA,QAAMI,GAAG,iBAAiBC,UAAU,SAASC,SAAU1B,EAAaG,IAClEiB,EAAAA,cAAA,OAAKK,UAAU,eACbL,EAAAA,cAAA,YAAM,UACNA,EAAAA,cAAA,QAAAO,EAAA,CACEH,GAAG,WACHI,KAAK,OACLH,UAAU,qNACVI,YAAY,oBACR9B,EAAS,WAAY,CACvB+B,UAAW,OAIjBV,EAAAA,cAAA,OAAKK,UAAU,uBACbL,EAAAA,cAAA,UACEW,SAAU9B,EACV2B,KAAK,SACLH,UAAU,6OACX,UAOX,E,oOCtEA,IA2EA,EA3EsC,SAAHzC,GAA0D,IAApDC,EAAID,EAAJC,KAAMC,EAAYF,EAAZE,aAAc8C,EAAyBhD,EAAzBgD,0BACnD5C,GAAYC,EAAAA,EAAAA,MAAZD,QACME,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,GAA9CC,KACQwC,GAAqB1C,EAAAA,EAAAA,IACnCD,EAAW,iBAAHK,OAAoBP,EAAO,YAAa,KAChDI,EAAAA,GAFMI,OAQRC,GAIIC,EAAAA,EAAAA,MAHFC,EAAQF,EAARE,SACAC,EAAYH,EAAZG,aAAYkC,EAAArC,EACZK,UAAaD,EAAYiC,EAAZjC,aAAckC,EAAMD,EAANC,OAEvBC,GAAoDhC,EAAAA,EAAAA,cACxD,SAACC,GACC,IAAQgC,EAAgBhC,EAAhBgC,YACR,IAAKA,IAAgBA,EAAY9B,OAC/B,OAAOE,EAAAA,GAAAA,MAAY,sBAAuBC,EAAAA,IAE5CC,EAAAA,EAAAA,KACQ,iBAADhB,OAAkBP,EAAO,YAAY,CACxCkD,MAAOD,IAERxB,MAAK,WACJoB,IACAD,GAA0B,GAC1BvB,EAAAA,GAAAA,QAAc,GAADd,OAAI0C,EAAW,OAAA1C,OAAMP,EAAO,kBAAkBsB,EAAAA,GAC7D,IACCI,OAAM,SAACC,GAAU,IAAAC,EAChBC,QAAQC,IAAIH,GACZN,EAAAA,GAAAA,MAA0B,QAAfO,EAACD,EAAMI,gBAAQ,IAAAH,OAAA,EAAdA,EAAgBvB,KAAMiB,EAAAA,GACpC,GACJ,GACA,CAACtB,EAAS6C,EAAkBD,IAG9B,OACEZ,EAAAA,cAACC,EAAAA,EAAK,CAACC,UAAW,EAAGC,WAAW,gBAAgBtC,KAAMA,EAAMC,aAAcA,GACxEkC,EAAAA,cAAA,QAAMI,GAAG,uBAAuBC,UAAU,SAASC,SAAU1B,EAAaoC,IACxEhB,EAAAA,cAAA,OAAKK,UAAU,eACbL,EAAAA,cAAA,YAAM,UACNA,EAAAA,cAAA,QAAAO,EAAA,CACEH,GAAG,cACHI,KAAK,OACLH,UAAU,qNACVI,YAAY,UACR9B,EAAS,cAAe,CAC1BwC,UAAW,IACXC,QAAS,CACPC,MAAO,mFACPC,QAAS,wBAKjBtB,EAAAA,cAAA,OAAKK,UAAU,gCACbL,EAAAA,cAAA,QAAMK,UAAU,uCACbU,EAAOE,aAAeF,EAAOE,YAAYK,SAE5CtB,EAAAA,cAAA,UACEW,SAAU9B,EACV2B,KAAK,SACLH,UAAU,6OACX,UAOX,E,iCCrFMkB,EAAqC,CAAC,EA2B5C,EA1BkB,SAACvD,GACjB,IAAMwD,GAAaxC,EAAAA,EAAAA,cAAY,WACzBhB,GAAWuD,EAAQvD,KAErBuD,EAAQvD,GAASwD,oBACVD,EAAQvD,GAEnB,GAAG,CAACA,IACJ,OAAKA,GAGAuD,EAAQvD,KAEXuD,EAAQvD,IAAWyD,EAAAA,EAAAA,IAAG,GAADlD,OAAImD,EAAAA,GAAO,QAAAnD,OAAOP,GAAW,CAChD2D,WAAY,CAAC,eAGfJ,EAAQvD,GAAS4D,GAAG,iBAAiB,SAACjC,GACpCE,QAAQF,MAAMA,GACdE,QAAQgC,IAAI,wBAADtD,OAAyBoB,EAAM2B,SAC5C,KAGK,CAACC,EAAQvD,GAAUwD,IAdjB,MAACM,EAAWN,EAevB,E,0GCzBA,IAQA,EARiB,SAAUO,GACzB,I,IAAgDC,G,GAAtBC,EAAAA,EAAAA,UAASF,G,EAAa,E,k5BAAzCV,EAAKW,EAAA,GAAEE,EAAQF,EAAA,GAItB,MAAO,CAACX,GAHQrC,EAAAA,EAAAA,cAAY,SAACmD,GAC3BD,EAASC,EAAEC,OAAOf,MACpB,GAAG,IACqBa,EAC1B,E,oBCPe,SAASG,EAAsCC,GAC5D,IAAMC,EAAmC,CAAC,EAS1C,OARAD,EAASE,SAAQ,SAACC,GAChB,IAAMC,EAAYC,IAAMF,EAAKG,WAAWC,OAAO,cAC3CC,MAAMC,QAAQR,EAASG,IACzBH,EAASG,GAAWM,KAAKP,GAEzBF,EAASG,GAAa,CAACD,EAE3B,IACOF,CACT,C,mPCEA,I,EAgFA,EAhFkD,SAAH3E,GAAuD,IAAjDC,EAAID,EAAJC,KAAMC,EAAYF,EAAZE,aAAcmF,EAAsBrF,EAAtBqF,uBACvEC,GAA0BjF,EAAAA,EAAAA,MAAlBD,EAAOkF,EAAPlF,QAASmF,EAAID,EAAJC,KACHjF,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,GAA9CC,KACQ+E,GAAsBjF,EAAAA,EAAAA,IACpCD,EAAW,iBAAHK,OAAoBP,EAAO,WAAAO,OAAU4E,EAAI,YAAa,KAC9D/E,EAAAA,GAFMI,OAQRC,GAIIC,EAAAA,EAAAA,MAHFC,EAAQF,EAARE,SACAC,EAAYH,EAAZG,aAAYkC,EAAArC,EACZK,UAAaD,EAAYiC,EAAZjC,aAAckC,EAAMD,EAANC,OAEvBC,GAAoDhC,EAAAA,EAAAA,cACxD,SAACC,GACC,IAAQgC,EAAgBhC,EAAhBgC,YACR,IAAKA,IAAgBA,EAAY9B,OAC/B,OAAOE,EAAAA,GAAAA,MAAY,sBAAuBC,EAAAA,IAE5CC,EAAAA,EAAAA,KACQ,iBAADhB,OAAkBP,EAAO,WAAAO,OAAU4E,EAAI,YAAY,CACtDjC,MAAOD,IAERxB,MAAK,WACJ2D,IACAH,GAAuB,GACvB5D,EAAAA,GAAAA,QAAc,GAADd,OAAI0C,EAAW,OAAA1C,OAAM4E,EAAI,iBAAiB7D,EAAAA,GACzD,IACCI,OAAM,SAACC,GAAU,IAAAC,EAChBC,QAAQC,IAAIH,GACZN,EAAAA,GAAAA,MAA0B,QAAfO,EAACD,EAAMI,gBAAQ,IAAAH,OAAA,EAAdA,EAAgBvB,KAAMiB,EAAAA,GACpC,GACJ,GACA,CAAC6D,EAAMC,EAAmBH,EAAwBjF,IAGpD,OACEgC,EAAAA,cAACC,EAAAA,EAAK,CACJC,UAAW,EACXC,WAAU,GAAA5B,OAAK4E,EAAI,iBACnBtF,KAAMA,EACNC,aAAcA,GAEdkC,EAAAA,cAAA,QAAMI,GAAG,oBAAoBC,UAAU,SAASC,SAAU1B,EAAaoC,IACrEhB,EAAAA,cAAA,OAAKK,UAAU,eACbL,EAAAA,cAAA,YAAM,UACNA,EAAAA,cAAA,QAAAO,EAAA,CACEH,GAAG,cACHI,KAAK,OACLH,UAAU,qNACVI,YAAY,UACR9B,EAAS,cAAe,CAC1BwC,UAAW,IACXC,QAAS,CACPC,MAAO,mFACPC,QAAS,wBAKjBtB,EAAAA,cAAA,OAAKK,UAAU,gCACbL,EAAAA,cAAA,QAAMK,UAAU,uCACbU,EAAOE,aAAeF,EAAOE,YAAYK,SAE5CtB,EAAAA,cAAA,UACEW,SAAU9B,EACV2B,KAAK,SACLH,UAAU,6OACX,UAOX,E,gKCtFO,I,IAAMgD,GAAoBC,E,SAAAA,IAAOC,EAAAA,EAAPD,CAAqBE,I,EAAA,oe,kBAAAA,E,2EAiKtD,EAhIoC,SAAH5F,GAQ3B,I,IAPJ6F,EAAY7F,EAAZ6F,aACAhB,EAAI7E,EAAJ6E,KACAiB,EAAY9F,EAAZ8F,aACAjD,EAAW7C,EAAX6C,YACApC,EAAIT,EAAJS,KACAsF,EAAM/F,EAAN+F,OACAC,EAAahG,EAAbgG,cAEqE5B,G,GAAfC,EAAAA,EAAAA,WAAS,G,EAAM,E,k5BAA9D4B,EAAmB7B,EAAA,GAAEiB,EAAsBjB,EAAA,GAE5C8B,GAAgB9E,EAAAA,EAAAA,cACpB,SAACmD,GACe,UAAVA,EAAE4B,MACC5B,EAAE6B,WACL7B,EAAE8B,iBACFR,EAAatB,IAGnB,GACA,CAACsB,IAGGS,GAMiBlF,EAAAA,EAAAA,cACrB,SAACmF,EAAQC,EAAQC,EAAoBC,EAAOC,GAC1C,OAAKlG,EAIH2B,EAAAA,cAAA,UACEK,UAAS,GAAA9B,OACPgG,GAAS,0BAAyB,+FAGpCvE,EAAAA,cAACwE,EAAAA,EAAS,CAACC,KAAM,GAAIC,MAAM,QAAQrD,MAAOhD,EAAKiG,GAAOpD,QACtDlB,EAAAA,cAAA,YAAOqE,IATF,IAYX,GACA,CAAChG,IAGGsG,GAAoB3F,EAAAA,EAAAA,cAAY,WACpCiE,GAAuB,EACzB,GAAG,IACGnF,GAAekB,EAAAA,EAAAA,cAAY,WAC/BiE,GAAuB,EACzB,GAAG,IAEH,OACEjD,EAAAA,cAAA,OAAKI,GAAG,YAAYC,UAAU,yBAC5BL,EAAAA,cAAA,QAAMM,SAAUmD,EAAcpD,UAAU,4BACtCL,EAAAA,cAACqD,EAAiB,CAChBjD,GAAG,OACHiB,MAAOoB,EACPmC,SAAUlB,EACVmB,WAAYf,EACZrD,YAAaA,EACbqE,KAAK,OACLC,6BAA2B,EAC3B1E,UAAU,6BAEVL,EAAAA,cAACgF,EAAAA,EAAO,CACNC,kBAAgB,EAChBC,QAAQ,IACR7G,MAAMA,aAAI,EAAJA,EAAM8G,KAAI,SAACC,GAAC,MAAM,CAAEhF,GAAIgF,EAAEhF,GAAIiF,QAASD,EAAEE,SAAU,MAAM,GAC/DC,iBAAkBrB,KAGtBlE,EAAAA,cAAA,OAAKK,UAAU,oEACbL,EAAAA,cAAA,OAAKK,UAAU,qBACbL,EAAAA,cAAA,SACEwF,QAAQ,cACRnF,UAAU,2FAEVL,EAAAA,cAACyF,EAAAA,EAAS,CAACpF,UAAU,UAAU,cAAY,UAE7CL,EAAAA,cAAA,SACEI,GAAG,cACHI,KAAK,OACLkF,UAAQ,EACRC,OAAO,UACPtF,UAAU,SACVuE,SAAUhB,IAEA,SAAXD,GACC3D,EAAAA,cAAA,UACEQ,KAAK,SACLoF,QAASjB,EACTtE,UAAU,gEAEVL,EAAAA,cAAC6F,EAAAA,EAAY,CAACxF,UAAU,6CAGhB,YAAXsD,GACC3D,EAAAA,cAAA,OAAKK,UAAU,iFAInBL,EAAAA,cAAA,UACEQ,KAAK,SACLH,UAAS,GAAA9B,QACPkE,aAAI,EAAJA,EAAMtD,SAAU,uBAAsB,mEAGxCa,EAAAA,cAAC8F,EAAAA,EAAgB,CACfzF,UAAS,GAAA9B,OAAKkE,SAAAA,EAAMtD,OAAS,6BAA+B,iBAAgB,eAKxE,SAAXwE,GACC3D,EAAAA,cAAC+F,EAAe,CACdlI,KAAMgG,EACN/F,aAAcA,EACdmF,uBAAwBA,IAKlC,E,qHC3JA,IAwEA,GAxEsC+C,EAAAA,EAAAA,OAAK,SAAApI,GAAc,I,IAAXS,EAAIT,EAAJS,KACW2D,G,GAAfC,EAAAA,EAAAA,WAAS,G,EAAM,E,k5BAAhDgE,EAAYjE,EAAA,GAAEkE,EAAelE,EAAA,GAC5BhE,GAAYC,EAAAA,EAAAA,MAAZD,QACFmI,EAAa,WAAY9H,EAAOA,EAAK+H,OAAS/H,EAAKgI,KACnDC,GAASC,EAAAA,EAAAA,UACb,kBACElI,EAAKmI,QAAQC,WAAW,cACxBpI,EAAKmI,QAAQC,WAAW,aACxBpI,EAAKmI,QAAQC,WAAW,0BACtBzG,EAAAA,cAAA,OACEI,GAAG,QACHsG,IAA6C,GAAHnI,OAAMF,EAAKmI,SACrDnG,UAAU,cAGZsG,EAAAA,EAAAA,GAAe,CACbvF,QAAS,0BACTwF,UAAS,SAACC,EAAOvC,GACf,IAAMwC,EAA2BD,EAAMA,MAAM,uBAC7C,OAAIC,EAEA9G,EAAAA,cAAC+G,EAAAA,GAAI,CAAChD,IAAK8C,EAAQvC,EAAO0C,GAAE,YAAAzI,OAAcP,EAAO,aAAAO,OAAYuI,EAAQ,KAAM,IACvEA,EAAQ,IAIT9G,EAAAA,cAAA,MAAI+D,IAAKO,GAClB,EACA2C,MAAO5I,EAAKmI,SAEf,GACH,CAACxI,EAASK,EAAKmI,UAEXU,GAAiBlI,EAAAA,EAAAA,cAAY,SAACmD,GACd,UAAhBA,EAAEC,OAAOhC,IACX8F,GAAgB,EAEpB,GAAG,IACGiB,GAAkBnI,EAAAA,EAAAA,cAAY,WAClCkH,GAAgB,EAClB,GAAG,IACH,OACElG,EAAAA,cAAA,OAAKK,UAAU,gGACbL,EAAAA,cAAA,OAAKK,UAAU,4CACbL,EAAAA,cAACoH,EAAAA,GAAO,CACN/G,UAAU,oBACVgH,gBAAgB,+BAChBL,GAAE,YAAAzI,OAAcP,EAAO,aAAAO,OAAY4H,EAAK/F,KAExCJ,EAAAA,cAACwE,EAAAA,EAAS,CAACC,KAAM,GAAIC,MAAM,QAAQrD,MAAO8E,EAAKjF,QAC/ClB,EAAAA,cAAA,OAAKK,UAAU,6CAA6C8F,EAAKb,WAEnEtF,EAAAA,cAAA,OAAKK,UAAU,2DACbL,EAAAA,cAAA,YAAO2C,IAAMtE,EAAKuE,WAAWC,OAAO,aAIxC7C,EAAAA,cAAA,KAAG4F,QAASsB,EAAgB7G,UAAU,iDACnCiG,GAEFL,GACCjG,EAAAA,cAAA,OACE4F,QAASuB,EACT9G,UAAU,+KAETiG,GAKX,I,qHCtEA,IAsCA,EAtCoC,SAAH1I,GAAoE,IAA9D0J,EAAY1J,EAAZ0J,aAAcC,EAAS3J,EAAT2J,UAAWC,EAAO5J,EAAP4J,QAASC,EAAY7J,EAAZ6J,aAAcC,EAAO9J,EAAP8J,QAC/EC,GAAW3I,EAAAA,EAAAA,cACf,SAACmD,GACqB,IAAhBA,EAAEyF,WAAoBL,GAAcC,GACtCE,GAAQ,SAACjD,GAAI,OAAKA,EAAO,CAAC,IAAEhF,MAAK,WAAM,IAAAoI,EAAAC,EACjB,QAApBD,EAAAP,EAAaS,eAAO,IAAAF,GAApBA,EAAsBD,WAA8B,QAApBE,EAAAR,EAAaS,eAAO,IAAAD,OAAA,EAApBA,EAAsBE,mBAAoB7F,EAAE8F,aAC9E,GAEJ,GACA,CAACP,EAASJ,EAAcC,EAAWC,IAGrC,OACExH,EAAAA,cAAA,OAAKI,GAAG,YAAYC,UAAU,wCAC5BL,EAAAA,cAACkI,EAAAA,GAAU,CAACC,UAAQ,EAACC,IAAKd,EAAce,cAAeV,GACpDW,OAAOC,QAAQd,GAActC,KAAI,SAAAqD,GAAmB,I,IAAAC,G,EAAA,E,4CAAAD,I,o2BAAjBE,EAAID,EAAA,GAAEE,EAAKF,EAAA,GAC7C,OACEzI,EAAAA,cAAA,WAASK,UAAS,WAAA9B,OAAamK,GAAQ3E,IAAK2E,GAC1C1I,EAAAA,cAAA,OACEI,GAAG,eACHC,UAAU,qGAEVL,EAAAA,cAAA,OAAKK,UAAU,oBACfL,EAAAA,cAAA,OAAKK,UAAU,yIACZqI,IAGJC,EAAMxD,KAAI,SAAC1C,GAAI,OACdzC,EAAAA,cAAC4I,EAAS,CAAC7E,IAAKtB,EAAKrC,GAAI/B,KAAMoE,GAAQ,IAI/C,KAIR,E,2iCC/BA,IA+OA,EA9OiB,WAAM,IAAAoG,EAAAC,EAAAlL,EACrBsF,GAA0BjF,EAAAA,EAAAA,MAAlBD,EAAOkF,EAAPlF,QAASmF,EAAID,EAAJC,KACV4F,EAA4BC,EAAlBC,EAAUjL,GAAQ,GAAtB,GACCE,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,GAA9CC,KACM6K,GAAc/K,EAAAA,EAAAA,IAAM,iBAAAI,OAA0BP,EAAO,UAAUI,EAAAA,GAArEC,KACF8K,EAAWD,aAAS,EAATA,EAAWE,MAAK,SAAChE,GAAC,OAAKA,EAAE5F,OAAS2D,CAAI,IAEvDkG,GAIIC,EAAAA,EAAAA,KACF,SAAChF,GAAK,uBAAA/F,OAAsBP,EAAO,WAAAO,OAAU4E,EAAI,mBAAA5E,OAbnC,GAa8D,UAAAA,OAAS+F,EAAQ,EAAC,GAC9FlG,EAAAA,EACA,CACEmL,UAAS,SAAClL,GACa,KAAjBA,aAAI,EAAJA,EAAMe,SACRoK,YAAW,WAAM,IAAA3B,EACK,QAApBA,EAAAP,EAAaS,eAAO,IAAAF,GAApBA,EAAsB4B,gBACxB,GAAG,IAEP,IAbIC,EAAQL,EAAdhL,KACQsL,EAAUN,EAAlB7K,OACAkJ,EAAO2B,EAAP3B,QAcYkC,GAAoBzL,EAAAA,EAAAA,IAChCD,EAAW,iBAAHK,OAAoBP,EAAO,WAAAO,OAAU4E,EAAI,YAAa,KAC9D/E,EAAAA,GAFMC,KAI0CwL,EAAAb,EAAZc,EAAS,IAAG,GAA3CrH,EAAIoH,EAAA,GAAEnG,EAAYmG,EAAA,GAAEE,EAAOF,EAAA,GACmB7H,EAAAgH,GAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAA9C+H,EAAWhI,EAAA,GAAEiI,EAAcjI,EAAA,GAC5BsF,GAAe4C,EAAAA,EAAAA,QAAmB,MAC/BC,EAA8BnB,GAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAAnB,GACXmI,EAAmCpB,GAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAAnB,GAC4CoI,EAAArB,GAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAA9D4B,EAAmBwG,EAAA,GAAEpH,EAAsBoH,EAAA,GAC5C7C,EAAoC,KAA1BkC,SAAa,QAALb,EAARa,EAAW,UAAE,IAAAb,OAAL,EAARA,EAAezJ,QACzBmI,EAAYC,GAAYkC,IAAyC,QAA7BZ,EAAAY,EAASA,EAAStK,OAAS,UAAE,IAAA0J,OAAA,EAA7BA,EAA+B1J,QApCzD,GAsCVqE,GAAezE,EAAAA,EAAAA,cACnB,SAACmD,GAEC,GADAA,EAAE8B,iBACExB,SAAAA,EAAMtD,QAAUuK,GAAYP,GAAYjL,EAAU,CACpD,IAAMoM,EAAY7H,EAClBkH,GAAW,SAACY,GAAiB,IAAAC,EAU3B,OATAD,SAAAA,EAAe,GAAGE,QAAQ,CACxBrK,KAAmB,QAAdoK,EAAAd,EAAS,GAAG,UAAE,IAAAc,OAAA,EAAdA,EAAgBpK,KAAM,GAAK,EAChCoG,QAAS8D,EACTI,OAAQxM,EAASkC,GACjBiG,KAAMnI,EACN0E,UAAW,IAAI+H,KACfC,OAAQzB,EAAS/I,GACjByK,KAAM1B,IAEDoB,CACT,IAAG,GAAO9K,MAAK,WACbqL,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI4E,IAAQ,IAAIwH,MAAOK,UAAUC,YAChElB,EAAQ,IACRE,GAAe,GACX3C,EAAaS,SACfT,EAAaS,QAAQ0B,gBAEzB,IACAlK,EAAAA,EAAAA,KACQ,iBAADhB,OAAkBP,EAAO,WAAAO,OAAU4E,EAAI,UAAU,CACpDqD,QAAS8D,IAEV5K,MAAMG,QAAQF,MACnB,CACF,GACA,CAAC8C,EAAMzE,EAASmF,EAAMgG,EAAUjL,EAAUwL,EAAUC,EAAYI,IAG5DmB,GAAYlM,EAAAA,EAAAA,cAChB,SAACX,GAEGA,EAAKwM,KAAKrL,OAAS2D,IAClB9E,EAAKmI,QAAQC,WAAW,cACvBpI,EAAKmI,QAAQC,WAAW,aACxBpI,EAAKqM,UAAWxM,aAAQ,EAARA,EAAUkC,MAE5BuJ,GAAW,SAACD,GAEV,OADAA,SAAAA,EAAW,GAAGe,QAAQpM,GACfqL,CACT,IAAG,GAAOjK,MAAK,WACT6H,EAAaS,UAEbT,EAAaS,QAAQC,kBACrBV,EAAaS,QAAQoD,kBAAoB7D,EAAaS,QAAQqD,eAAiB,KAE/EnB,GAAe,GACfT,YAAW,WAAM,IAAA1B,EACK,QAApBA,EAAAR,EAAaS,eAAO,IAAAD,GAApBA,EAAsB2B,gBACxB,GAAG,MAEHQ,GAAe,GAGrB,GAEJ,GACA,CAAC9G,EAAMjF,EAAUyL,KAGnB0B,EAAAA,EAAAA,YAAU,WAER,OADAtC,SAAAA,EAAQnH,GAAG,UAAWsJ,GACf,WACLnC,SAAAA,EAAQuC,IAAI,UAAWJ,EACzB,CACF,GAAG,CAACnC,EAAQmC,KAEZG,EAAAA,EAAAA,YAAU,WACRP,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI4E,IAAQ,IAAIwH,MAAOK,UAAUC,WAClE,GAAG,CAACjN,EAASmF,IAEb,IAAMoI,GAASvM,EAAAA,EAAAA,cACb,SAACmD,GACCA,EAAE8B,iBACF,IAAMhF,EAAW,IAAIuM,SACrB,GAAIrJ,EAAEsJ,aAAaC,OACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIxJ,EAAEsJ,aAAaC,MAAMtM,OAAQuM,IAC/C,GAAqC,SAAjCxJ,EAAEsJ,aAAaC,MAAMC,GAAGC,KAAiB,CAC3C,IAAMC,EAAO1J,EAAEsJ,aAAaC,MAAMC,GAAGG,YACrC7M,EAAS8M,OAAO,QAASF,EAC3B,OAGF,IAAK,IAAIF,EAAI,EAAGA,EAAIxJ,EAAEsJ,aAAaO,MAAM5M,OAAQuM,IAC/C1M,EAAS8M,OAAO,QAAS5J,EAAEsJ,aAAaO,MAAML,IAGlDpM,EAAAA,EAAAA,KAAW,iBAADhB,OAAkBP,EAAO,WAAAO,OAAU4E,EAAI,WAAWlE,GAAUQ,MAAK,WACzE0K,GAAY,GACZW,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI4E,IAAQ,IAAIwH,MAAOK,UAAUC,WAClE,GACF,GACA,CAACjN,EAASmF,IAENS,GAAgB5E,EAAAA,EAAAA,cACpB,SAACmD,GACCA,EAAE8B,iBAEF,IADA,IAAMhF,EAAW,IAAIuM,SACZG,EAAI,EAAGA,EAAIxJ,EAAEC,OAAO4J,MAAM5M,OAAQuM,IACzC1M,EAAS8M,OAAO,QAAS5J,EAAEC,OAAO4J,MAAML,IAE1CpM,EAAAA,EAAAA,KAAW,iBAADhB,OAAkBP,EAAO,WAAAO,OAAU4E,EAAI,WAAWlE,GAAUQ,MAAK,WACzE2K,GAAiB,GACjBU,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI4E,IAAQ,IAAIwH,MAAOK,UAAUC,YAChEb,GAAiB,EACnB,GACF,GACA,CAACpM,EAASmF,IAENwB,GAAoB3F,EAAAA,EAAAA,cAAY,WACpCiE,GAAuB,EACzB,GAAG,IACGgJ,GAAyBjN,EAAAA,EAAAA,cAAY,WAAM,IAAAkN,EAC/CjC,GAAe,GACK,QAApBiC,EAAA5E,EAAaS,eAAO,IAAAmE,GAApBA,EAAsBzC,gBACxB,GAAG,IACG0C,IAAanN,EAAAA,EAAAA,cAAY,SAACmD,GAC9BA,EAAE8B,iBACFkG,GAAY,EACd,GAAG,IACGrM,IAAekB,EAAAA,EAAAA,cAAY,WAC/BiE,GAAuB,EACzB,GAAG,IACH,GAAIiG,IAAcC,EAChB,OAAOnJ,EAAAA,cAACoM,EAAAA,GAAQ,CAACpF,GAAE,YAAAzI,OAAcP,EAAO,cAG1C,I,GAAMyJ,GAAepF,EAAYqH,GAAW9L,EAAC,IAAcW,OAAM8N,MAAAzO,G,GAAI8L,E,2VAAU4C,UAAY,IAE3F,OACEtM,EAAAA,cAAA,OACEI,GAAG,YACHC,UAAU,0DACVkL,OAAQA,EACRY,WAAYA,IAEZnM,EAAAA,cAAA,OACEI,GAAG,sBACHC,UAAU,wFAEVL,EAAAA,cAAA,OAAKK,UAAU,uEACbL,EAAAA,cAACuM,EAAAA,EAAQ,CAAClM,UAAU,eACpBL,EAAAA,cAAA,QAAMK,UAAU,+DAA+D8C,IAEjFnD,EAAAA,cAAA,UACE4F,QAASjB,EACTnE,KAAK,SACLH,UAAU,2GAEVL,EAAAA,cAAC6F,EAAAA,EAAY,CAACxF,UAAU,aAAa,OAIxCmH,GACCxH,EAAAA,cAAA,OAAKK,UAAU,8FAA6F,WAE1GL,EAAAA,cAAA,WAAM,6BAITgK,GACChK,EAAAA,cAAA,UACEQ,KAAK,SACLoF,QAASqG,EACT5L,UAAU,kMAEVL,EAAAA,cAACwM,EAAAA,EAA8B,CAACnM,UAAU,gBAAgB,QAI9DL,EAAAA,cAACyM,EAAQ,CACPnF,aAAcA,EACdC,UAAWA,EACXC,QAASA,EACTC,aAAcA,GACdC,QAASA,IAEX1H,EAAAA,cAAC0M,EAAQ,CACPjJ,aAAcA,EACdhB,KAAMA,EACNiB,aAAcA,EACdjD,YAAW,GAAAlC,OAAK4E,EAAI,YACpB9E,KAAMuL,EACNjG,OAAO,OACPC,cAAeA,IAGjB5D,EAAAA,cAAC+F,EAAe,CACdlI,KAAMgG,EACN/F,aAAcA,GACdmF,uBAAwBA,IAIhC,E,qiCC/OA,IAkNA,GAjNwB,WAAM,IAAA4F,EAAAC,EAAAlL,EAC5BsF,GAAwBjF,EAAAA,EAAAA,MAAhBD,EAAOkF,EAAPlF,QAASoC,EAAE8C,EAAF9C,GACV2I,EAA4BC,EAAlBC,EAAUjL,GAAQ,GAAtB,GACC2O,GAAWxO,EAAAA,EAAAA,IAAO,aAAcC,EAAAA,GAAtCC,KACMH,GAAaC,EAAAA,EAAAA,IAAO,iBAADI,OAAkBP,EAAO,WAAAO,OAAU6B,GAAMhC,EAAAA,GAAlEC,KACRgL,GAIIC,EAAAA,EAAAA,KACF,SAAChF,GAAK,uBAAA/F,OAAsBP,EAAO,cAAAO,OAAa6B,EAAE,mBAAA7B,OAXpC,GAW+D,UAAAA,OAAS+F,EAAQ,EAAC,GAC/FlG,EAAAA,EACA,CACEmL,UAAS,SAAClL,GACa,KAAjBA,aAAI,EAAJA,EAAMe,SACRoK,YAAW,WAAM,IAAA3B,EACK,QAApBA,EAAAP,EAAaS,eAAO,IAAAF,GAApBA,EAAsB4B,gBACxB,GAAG,IAEP,IAbIC,EAAQL,EAAdhL,KACQsL,EAAUN,EAAlB7K,OACAkJ,EAAO2B,EAAP3B,QAcgDmC,EAAAb,EAAZc,EAAS,IAAG,GAA3CrH,EAAIoH,EAAA,GAAEnG,EAAYmG,EAAA,GAAEE,EAAOF,EAAA,GACmB7H,EAAAgH,GAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAA9C+H,EAAWhI,EAAA,GAAEiI,EAAcjI,EAAA,GAC5BsF,GAAe4C,EAAAA,EAAAA,QAAmB,MAC/BC,EAA8BnB,GAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAAnB,GAEduF,EAAoC,KAA1BkC,SAAa,QAALb,EAARa,EAAW,UAAE,IAAAb,OAAL,EAARA,EAAezJ,QACzBmI,EAAYC,GAAYkC,IAAyC,QAA7BZ,EAAAY,EAASA,EAAStK,OAAS,UAAE,IAAA0J,OAAA,EAA7BA,EAA+B1J,QA7BzD,GA+BVqE,GAAezE,EAAAA,EAAAA,cACnB,SAACmD,GAEC,GADAA,EAAE8B,iBACExB,SAAAA,EAAMtD,QAAUuK,EAAU,CAC5B,IAAMY,EAAY7H,EAElBkH,GAAW,SAACY,GAAiB,IAAAC,EAU3B,OATAD,SAAAA,EAAe,GAAGE,QAAQ,CACxBrK,KAAmB,QAAdoK,EAAAd,EAAS,GAAG,UAAE,IAAAc,OAAA,EAAdA,EAAgBpK,KAAM,GAAK,EAChCoG,QAAS8D,EACTsC,SAAUD,EAAOvM,GACjBgG,OAAQuG,EACRE,WAAY3O,EAASkC,GACrB0M,SAAU5O,EACV0E,UAAW,IAAI+H,OAEVJ,CACT,IAAG,GAAO9K,MAAK,WACbqL,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI6B,IAAM,IAAIuK,MAAOK,UAAUC,YAC9DlB,EAAQ,IACRE,GAAe,GACX3C,EAAaS,SACfT,EAAaS,QAAQ0B,gBAEzB,IACAlK,EAAAA,EAAAA,KACQ,iBAADhB,OAAkBP,EAAO,cAAAO,OAAa6B,EAAE,UAAU,CACrDoG,QAAS/D,IAEV/C,MAAMG,QAAQF,MACnB,CACF,GACA,CAAC8C,EAAMzE,EAASoC,EAAIuM,EAAQzO,EAAUwL,EAAUC,EAAYI,IAGxDmB,GAAYlM,EAAAA,EAAAA,cAChB,SAACX,GAEKA,EAAKuO,WAAaG,OAAO3M,IAAOuM,EAAOvM,KAAO2M,OAAO3M,IACvDuJ,GAAW,SAACD,GAEV,OADAA,SAAAA,EAAW,GAAGe,QAAQpM,GACfqL,CACT,IAAG,GAAOjK,MAAK,WACT6H,EAAaS,UAEbT,EAAaS,QAAQC,kBACrBV,EAAaS,QAAQoD,kBAAoB7D,EAAaS,QAAQqD,eAAiB,KAE/EnB,GAAe,GACfT,YAAW,WAAM,IAAA1B,EACK,QAApBA,EAAAR,EAAaS,eAAO,IAAAD,GAApBA,EAAsB2B,gBACxB,GAAG,MAEHQ,GAAe,GAGrB,GAEJ,GACA,CAAC7J,EAAIuM,EAAQhD,KAGf0B,EAAAA,EAAAA,YAAU,WAER,OADAtC,SAAAA,EAAQnH,GAAG,UAAWsJ,GACf,WACLnC,SAAAA,EAAQuC,IAAI,UAAWJ,EACzB,CACF,GAAG,CAACnC,EAAQmC,KAEZG,EAAAA,EAAAA,YAAU,WACRP,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI6B,IAAM,IAAIuK,MAAOK,UAAUC,WAChE,GAAG,CAACjN,EAASoC,IAEb,IAAMmL,GAASvM,EAAAA,EAAAA,cACb,SAACmD,GACCA,EAAE8B,iBACF,IAAMhF,EAAW,IAAIuM,SACrB,GAAIrJ,EAAEsJ,aAAaC,OACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIxJ,EAAEsJ,aAAaC,MAAMtM,OAAQuM,IAC/C,GAAqC,SAAjCxJ,EAAEsJ,aAAaC,MAAMC,GAAGC,KAAiB,CAC3C,IAAMC,EAAO1J,EAAEsJ,aAAaC,MAAMC,GAAGG,YAErC7M,EAAS8M,OAAO,QAASF,EAC3B,OAGF,IAAK,IAAIF,EAAI,EAAGA,EAAIxJ,EAAEsJ,aAAaO,MAAM5M,OAAQuM,IAE/C1M,EAAS8M,OAAO,QAAS5J,EAAEsJ,aAAaO,MAAML,IAGlDpM,EAAAA,EAAAA,KAAW,iBAADhB,OAAkBP,EAAO,cAAAO,OAAa6B,EAAE,WAAWnB,GAAUQ,MAAK,WAC1E0K,GAAY,GACZW,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI6B,IAAM,IAAIuK,MAAOK,UAAUC,YAC9DtB,GACF,GACF,GACA,CAAC3L,EAASoC,EAAIuJ,IAEV/F,GAAgB5E,EAAAA,EAAAA,cACpB,SAACmD,GACCA,EAAE8B,iBAEF,IADA,IAAMhF,EAAW,IAAIuM,SACZG,EAAI,EAAGA,EAAIxJ,EAAEC,OAAO4J,MAAM5M,OAAQuM,IACzC1M,EAAS8M,OAAO,QAAS5J,EAAEC,OAAO4J,MAAML,IAE1CpM,EAAAA,EAAAA,KAAW,iBAADhB,OAAkBP,EAAO,cAAAO,OAAa6B,EAAE,WAAWnB,GAAUQ,MAAK,WAC1EqL,aAAaC,QAAQ,GAADxM,OAAIP,EAAO,KAAAO,OAAI6B,IAAM,IAAIuK,MAAOK,UAAUC,YAC9DtB,GACF,GACF,GACA,CAAC3L,EAASoC,EAAIuJ,IAEVsC,GAAyBjN,EAAAA,EAAAA,cAAY,WAAM,IAAAkN,EAC/CjC,GAAe,GACK,QAApBiC,EAAA5E,EAAaS,eAAO,IAAAmE,GAApBA,EAAsBzC,gBACxB,GAAG,IACG0C,GAAanN,EAAAA,EAAAA,cAAY,SAACmD,GAC9BA,EAAE8B,iBACFkG,GAAY,EACd,GAAG,IAEH,IAAKjM,IAAayO,EAChB,OAAO,KAGT,I,EAAMlF,EAAepF,EAAYqH,GAAW9L,EAAC,IAAiBW,OAAM8N,MAAAzO,G,EAAI8L,E,0VAAU4C,UAAY,IAE9F,OACEtM,EAAAA,cAAA,OACEK,UAAU,0DACVkL,OAAQA,EACRY,WAAYA,GAEZnM,EAAAA,cAAA,OACEI,GAAG,yBACHC,UAAU,kHAEVL,EAAAA,cAACgN,EAAAA,EAAY,CAAC3M,UAAU,eACxBL,EAAAA,cAAA,QAAMK,UAAU,+DACbnC,EAASoH,WAGbkC,GACCxH,EAAAA,cAAA,OAAKK,UAAU,8FAA6F,WAE1GL,EAAAA,cAAA,WAAM,6BAITgK,GACChK,EAAAA,cAAA,UACEQ,KAAK,SACLoF,QAASqG,EACT5L,UAAU,kMAEVL,EAAAA,cAACwM,EAAAA,EAA8B,CAACnM,UAAU,gBAAgB,QAG9DL,EAAAA,cAACyM,EAAQ,CACPnF,aAAcA,EACdC,UAAWA,EACXC,QAASA,EACTC,aAAcA,EACdC,QAASA,IAEX1H,EAAAA,cAAC0M,EAAQ,CACPjJ,aAAcA,EACdhB,KAAMA,EACNiB,aAAcA,EACdjD,YAAW,GAAAlC,OAAKL,EAASoH,SAAQ,cACjCjH,KAAM,GACNsF,OAAO,UACPC,cAAeA,IAIvB,E,yDClKA,GAjD0C,SAAHhG,GAA6B,IAAvBuG,EAAMvG,EAANuG,OAAQ8I,EAAQrP,EAARqP,SAC3CjP,GAAYC,EAAAA,EAAAA,MAAZD,QACFkP,GAAWC,EAAAA,EAAAA,MACHjP,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,EAAY,CAChEgP,iBAAkB,MADZ/O,KAGFqK,EAAOoC,aAAauC,QAAQ,GAAD9O,OAAIP,EAAO,KAAAO,OAAI4F,EAAO/D,MAAS,EAChEkN,GAAsCnP,EAAAA,EAAAA,IACpCD,EAAW,iBAAHK,OAAoBP,EAAO,cAAAO,OAAa4F,EAAO/D,GAAE,mBAAA7B,OAAkBmK,GAAS,KACpFtK,EAAAA,GAFYmP,EAAWD,EAAjBjP,KAAmBG,EAAM8O,EAAN9O,OAW3B,OANA6M,EAAAA,EAAAA,YAAU,WACJ6B,EAASM,WAAa,YAALjP,OAAiBP,EAAO,aAAAO,OAAY4F,EAAO/D,KAC9D5B,EAAO,EAEX,GAAG,CAACA,EAAQ0O,EAASM,SAAUxP,EAASmG,IAGtCnE,EAAAA,cAACoH,EAAAA,GAAO,CACNrD,IAAKI,EAAO/D,GACZC,UAAU,2BACVgH,gBAAgB,+BAChBL,GAAE,YAAAzI,OAAcP,EAAO,aAAAO,OAAY4F,EAAO/D,KAE1CJ,EAAAA,cAAA,OAAKK,UAAU,YACbL,EAAAA,cAACwE,EAAAA,EAAS,CAACC,KAAM,GAAIgJ,QAAQ,EAAM/I,MAAM,QAAQrD,MAAO8C,EAAOjD,QAC/DlB,EAAAA,cAAA,OACEK,UAAS,GAAA9B,OACP0O,EAAW,iBAAmB,eAAc,kFAIlDjN,EAAAA,cAAA,QAAMK,UAAU,wFACb8D,EAAOmB,UAETnB,EAAO/D,MAAOlC,aAAQ,EAARA,EAAUkC,KAAMJ,EAAAA,cAAA,QAAMK,UAAU,UAAS,YACvCyB,IAAhByL,GAA6BA,EAAc,GAC1CvN,EAAAA,cAAA,OACEI,GAAG,eACHC,UAAU,uGAETkN,GAKX,E,shCClDA,IA2CA,GA3CwB,WACtB,IAAQvP,GAAYC,EAAAA,EAAAA,MAAZD,QACME,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,EAAY,CAChEgP,iBAAkB,MADZ/O,KAGMqP,GAAevP,EAAAA,EAAAA,IAC3BD,EAAW,iBAAHK,OAAoBP,EAAO,YAAa,KAChDI,EAAAA,GAFMC,KAID0K,EAA4BC,GAAlBC,EAAUjL,GAAQ,GAAtB,GAC6CgE,EAAAgH,IAAtB/G,EAAAA,EAAAA,UAAmB,IAAG,GAAnD0L,EAAU3L,EAAA,GAAE4L,EAAa5L,EAAA,GAiBhC,OAfAqJ,EAAAA,EAAAA,YAAU,WACRuC,EAAc,GAChB,GAAG,CAAC5P,KAEJqN,EAAAA,EAAAA,YAAU,WAKR,OAJAtC,SAAAA,EAAQnH,GAAG,cAAc,SAACvD,GACxBuP,EAAcvP,EAChB,IAEO,WAEL0K,SAAAA,EAAQuC,IAAI,aACd,CACF,GAAG,CAACvC,IAGF/I,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,WACG0N,aAAU,EAAVA,EAAYvI,KAAI,SAAChB,GAChB,IAAM8I,EAAWU,EAAWE,SAAS1J,EAAO/D,IAC5C,OACEJ,EAAAA,cAAC8N,GAAAA,EAAAA,MAAgB,CAAC/J,IAAKI,EAAO/D,GAAIC,UAAU,uBAC1CL,EAAAA,cAAC+N,GAAW,CAAC5J,OAAQA,EAAQ8I,SAAUA,IAG7C,KAIR,ECAA,GAxCoC,SAAHrP,GAAiB,IAAXuF,EAAIvF,EAAJuF,KAC7BnF,GAAYC,EAAAA,EAAAA,MAAZD,QACFkP,GAAWC,EAAAA,EAAAA,MACHjP,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,EAAY,CAChEgP,iBAAkB,MADZ/O,KAGFqK,EAAOoC,aAAauC,QAAQ,GAAD9O,OAAIP,EAAO,KAAAO,OAAI4E,EAAK3D,QAAW,EAChE8N,GAAsCnP,EAAAA,EAAAA,IACpCD,EAAW,iBAAHK,OAAoBP,EAAO,WAAAO,OAAU4E,EAAK3D,KAAI,mBAAAjB,OAAkBmK,GAAS,KACjFtK,EAAAA,GAFYmP,EAAWD,EAAjBjP,KAAmBG,EAAM8O,EAAN9O,OAW3B,OANA6M,EAAAA,EAAAA,YAAU,WACJ6B,EAASM,WAAa,YAALjP,OAAiBP,EAAO,UAAAO,OAAS4E,EAAK3D,OACzDhB,EAAO,EAEX,GAAG,CAACA,EAAQ0O,EAASM,SAAUxP,EAASmF,IAGtCnD,EAAAA,cAACoH,EAAAA,GAAO,CACNrD,IAAKZ,EAAK3D,KACVa,UAAU,2BACVgH,gBAAgB,+BAChBL,GAAE,YAAAzI,OAAcP,EAAO,UAAAO,OAAS4E,EAAK3D,OAErCQ,EAAAA,cAAA,OAAKK,UAAU,uFACZ8C,EAAK3D,WAESsC,IAAhByL,GAA6BA,EAAc,GAC1CvN,EAAAA,cAAA,OACEI,GAAG,eACHC,UAAU,uGAETkN,GAKX,ECpBA,GApBqB,WACnB,IAAQvP,GAAYC,EAAAA,EAAAA,MAAZD,QACME,GAAaC,EAAAA,EAAAA,IAAa,aAAcC,EAAAA,EAAY,CAChEgP,iBAAkB,MADZ/O,KAGM8K,GAAahL,EAAAA,EAAAA,IAAeD,EAAW,iBAAHK,OAAoBP,EAAO,UAAW,KAAMI,EAAAA,GAAtFC,KAER,OACE2B,EAAAA,cAAAA,EAAAA,SAAA,KACGmJ,aAAQ,EAARA,EAAUhE,KAAI,SAAChC,GACd,OACEnD,EAAAA,cAAC8N,GAAAA,EAAAA,MAAgB,CAAC/J,IAAKZ,EAAK/C,GAAIC,UAAU,uBACxCL,EAAAA,cAACgO,GAAQ,CAAC7K,KAAMA,IAGtB,IAGN,E,kiCCfA,IAiGA,IAjGkC6C,EAAAA,EAAAA,OAAK,WACrC,IAA4ChE,EAAAgH,IAAd/G,EAAAA,EAAAA,WAAS,GAAK,GAArCgM,EAAOjM,EAAA,GAAEkM,EAAUlM,EAAA,GACqCmM,EAAAnF,IAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAAxDmM,EAAgBD,EAAA,GAAEpQ,EAAmBoQ,EAAA,GAEtCE,GAAcrP,EAAAA,EAAAA,cAAY,WAC9BkP,GAAW,EACb,GAAG,IACGI,GAAiBtP,EAAAA,EAAAA,cAAY,WACjCjB,GAAoB,EACtB,GAAG,IAEGD,GAAekB,EAAAA,EAAAA,cAAY,WAC/BjB,GAAoB,EACtB,GAAG,IACH,OACEiC,EAAAA,cAAA,OAAKK,UAAU,sCACbL,EAAAA,cAAA,OAAKK,UAAU,mDACbL,EAAAA,cAAC8N,GAAAA,EAAU,CAACS,aAAa,EAAMC,GAAG,QAC/B,SAAA5Q,GAAA,IAAG6Q,EAAI7Q,EAAJ6Q,KAAI,OACNzO,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC8N,GAAAA,EAAAA,OAAiB,CAACzN,UAAU,qOAC3BL,EAAAA,cAAA,OAAKK,UAAU,qBACbL,EAAAA,cAACuM,EAAAA,EAAQ,CAAClM,UAAU,QACpBL,EAAAA,cAAA,QAAMK,UAAU,QAAO,QAEzBL,EAAAA,cAAC0O,GAAAA,EAAa,CAACrO,UAAS,GAAA9B,OAAKkQ,EAAO,uBAAyB,GAAE,eAEjEzO,EAAAA,cAAC2O,GAAQ,MACT3O,EAAAA,cAAA,UAAQQ,KAAK,SAASoF,QAAS0I,EAAgBjO,UAAU,uBACvDL,EAAAA,cAAA,OAAKK,UAAS,0CACZL,EAAAA,cAAC4O,GAAAA,EAAc,CAACvO,UAAU,wBAAwB,WAIrD,IAGPL,EAAAA,cAAC8N,GAAAA,EAAU,CAACS,aAAa,EAAMC,GAAG,MAAMnO,UAAU,SAC/C,SAAAmI,GAAA,IAAGiG,EAAIjG,EAAJiG,KAAI,OACNzO,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC8N,GAAAA,EAAAA,OAAiB,CAACzN,UAAU,qOAC3BL,EAAAA,cAAA,OAAKK,UAAU,qBACbL,EAAAA,cAACgN,EAAAA,EAAY,CAAC3M,UAAU,QACxBL,EAAAA,cAAA,QAAMK,UAAU,QAAO,YAEzBL,EAAAA,cAAC0O,GAAAA,EAAa,CAACrO,UAAS,GAAA9B,OAAKkQ,EAAO,uBAAyB,GAAE,eAEjEzO,EAAAA,cAAC6O,GAAW,MACX,IAGNZ,GACCjO,EAAAA,cAAA,OAAKI,GAAG,eAAeC,UAAU,qCAC/BL,EAAAA,cAAA,OAAKK,UAAU,0BACbL,EAAAA,cAAA,OAAKK,UAAU,oFACbL,EAAAA,cAAC8O,GAAAA,EAAa,CAACzO,UAAU,QACzBL,EAAAA,cAAA,QAAMK,UAAU,QAAO,aAEzBL,EAAAA,cAAA,UACEQ,KAAK,SACLoF,QAASyI,EACThO,UAAU,8GAEVL,EAAAA,cAAA,OACE,cAAY,OACZK,UAAU,UACV0O,KAAK,eACLC,QAAQ,YACRC,MAAM,8BAENjP,EAAAA,cAAA,QACEkP,SAAS,UACTC,EAAE,qMACFC,SAAS,eAKjBpP,EAAAA,cAAA,KAAGK,UAAU,gCAA+B,8BAC5CL,EAAAA,cAAC+G,EAAAA,GAAI,CACHC,GAAG,mBACH3G,UAAU,6EACX,eAMPL,EAAAA,cAACqP,EAAY,CACXxR,KAAMuQ,EACNtQ,aAAcA,EACdC,oBAAqBA,IAI7B,I,4yCC3EA,IAyTA,GAzTgB,WAAM,IAAAuR,EAAAC,EAEZvR,GADOC,EAAAA,EAAAA,MACPD,QAC6CwR,EAAAxG,GAAlBC,EAAUjL,GAAQ,GAA9C+K,EAAMyG,EAAA,GAAEC,EAAgBD,EAAA,GAC/BE,GAAmDvR,EAAAA,EAAAA,IAAqB,aAAcC,EAAAA,GAAxEF,EAAQwR,EAAdrR,KAAwBsR,EAAcD,EAAtBlR,OACV2K,GAAahL,EAAAA,EAAAA,IAAeD,EAAW,iBAAHK,OAAoBP,EAAO,UAAW,KAAMI,EAAAA,GAAtFC,KACMqP,GAAevP,EAAAA,EAAAA,IAC3BD,EAAW,iBAAHK,OAAoBP,EAAO,YAAa,KAChDI,EAAAA,GAFMC,KAIkD2D,EAAAgH,IAAtB/G,EAAAA,EAAAA,UAAmB,IAAG,GAAnD0L,EAAU3L,EAAA,GAAE4L,EAAa5L,EAAA,GAC2CmM,EAAAnF,IAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAApE2N,EAAsBzB,EAAA,GAAE0B,EAAyB1B,EAAA,GACmB2B,EAAA9G,IAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAApE8N,EAAsBD,EAAA,GAAElP,EAAyBkP,EAAA,GACOzF,EAAArB,IAAf/G,EAAAA,EAAAA,WAAS,GAAM,GAAxDmM,EAAgB/D,EAAA,GAAEtM,EAAmBsM,EAAA,GAO5C5L,GAKIC,EAAAA,EAAAA,MAJFC,EAAQF,EAARE,SACAC,EAAYH,EAAZG,aACAsD,EAAQzD,EAARyD,SACarD,EAAYJ,EAAzBK,UAAaD,aAGTmR,GAAsDhR,EAAAA,EAAAA,cAC1D,SAACC,GACC,IAAQgR,EAA0ChR,EAA1CgR,YAAaC,EAA6BjR,EAA7BiR,YAAaC,EAAgBlR,EAAhBkR,YAClC,OAAKF,GAAgBA,EAAY9Q,OAG5B+Q,GAAgBA,EAAY/Q,OAG7B8Q,EAAY7Q,OAAS,GAChBC,EAAAA,GAAAA,MAAY,2BAA4BC,EAAAA,IAE7C4Q,EAAY9Q,OAAS,GAChBC,EAAAA,GAAAA,MAAY,2BAA4BC,EAAAA,SAEjDC,EAAAA,EAAAA,KACQ,gBAAiB,CACrBvB,QAASiS,EACTG,KAAMF,EACNC,YAAAA,IAED1Q,MAAK,WAMJ,OALAkQ,IACAE,GAA0B,GAC1B3N,EAAS,cAAe,IACxBA,EAAS,cAAe,IACxBA,EAAS,cAAe,IACjB7C,EAAAA,GAAAA,QAAc,kBAAmBC,EAAAA,GAC1C,IACCI,OAAM,SAACC,GAAU,IAAAC,EAChBC,QAAQC,IAAIH,GACZN,EAAAA,GAAAA,MAA0B,QAAfO,EAACD,EAAMI,gBAAQ,IAAAH,OAAA,EAAdA,EAAgBvB,KAAMiB,EAAAA,GACpC,IAzBOD,EAAAA,GAAAA,MAAY,iBAAkBC,EAAAA,IAH9BD,EAAAA,GAAAA,MAAY,kBAAmBC,EAAAA,GA6B1C,GACA,CAACqQ,EAAgBzN,IAGbmO,GAAuBrR,EAAAA,EAAAA,cAAY,WACvC6Q,GAA0B,EAC5B,GAAG,IAEGvB,GAAiBtP,EAAAA,EAAAA,cAAY,WACjCjB,GAAoB,EACtB,GAAG,IAEGuS,GAAuBtR,EAAAA,EAAAA,cAAY,WACvC4B,GAA0B,EAC5B,GAAG,IAEG9C,GAAekB,EAAAA,EAAAA,cAAY,WAC/B6Q,GAA0B,GAC1B9R,GAAoB,GACpB6C,GAA0B,EAC5B,GAAG,IAsBH,OApBAyK,EAAAA,EAAAA,YAAU,WAIR,OAHAtC,SAAAA,EAAQnH,GAAG,cAAc,SAACvD,GACxBuP,EAAcvP,EAChB,IACO,WACL0K,SAAAA,EAAQuC,IAAI,aACd,CACF,GAAG,CAACvC,KAEJsC,EAAAA,EAAAA,YAAU,WACR,OAAO,WACLoE,GACF,CACF,GAAG,CAACA,EAAkBzR,KACtBqN,EAAAA,EAAAA,YAAU,WACJlC,GAAYjL,IACd6K,SAAAA,EAAQwH,KAAK,SAAU,CAAEnQ,GAAIlC,aAAQ,EAARA,EAAUkC,GAAIoQ,MAAOrH,EAAShE,KAAI,SAACC,GAAC,OAAKA,EAAEhF,EAAE,MAE9E,GAAG,CAAC2I,EAAQ7K,EAAUiL,KAEL,IAAbjL,EACK8B,EAAAA,cAACoM,EAAAA,GAAQ,CAACpF,GAAG,YAIpBhH,EAAAA,cAAA,OACEI,GAAG,iBACHC,UAAU,6FAEVL,EAAAA,cAAA,OAAKK,UAAU,0FACbL,EAAAA,cAAA,OAAKK,UAAU,0BACbL,EAAAA,cAACyQ,EAAAA,EAAQ,CACPC,UAAWxS,SAAkD,QAA1CoR,EAARpR,EAAUyS,SAASvH,MAAK,SAAChE,GAAC,OAAKA,EAAEgL,OAASpS,CAAO,WAAC,IAAAsR,OAA1C,EAARA,EAAoD9P,KAC/DoR,SAAS,EACTC,UAAU,QAEV7Q,EAAAA,cAAC8Q,GAAAA,EAAAA,KAAS,MACP,SAAAlT,GAAA,IAAAmT,EAAGC,EAAMpT,EAANoT,OAAM,OACRhR,EAAAA,cAAA,UACE4F,QAAS0K,EACTjQ,UAAS,GAAA9B,OACPyS,EAAS,wCAA0C,iBAAgB,iEAGrEhR,EAAAA,cAAC6F,EAAAA,EAAY,CAACxF,UAAU,aACxBL,EAAAA,cAAA,QAAMK,UAAU,2DACbnC,SAAkD,QAA1C6S,EAAR7S,EAAUyS,SAASvH,MAAK,SAAChE,GAAC,OAAKA,EAAEgL,OAASpS,CAAO,WAAC,IAAA+S,OAA1C,EAARA,EAAoDvR,MAChD,UAEA,IAIbQ,EAAAA,cAAC8Q,GAAAA,EAAAA,KAAS,MACP,SAAAtI,GAAA,IAAAyI,EAAGD,EAAMxI,EAANwI,OAAM,OACRhR,EAAAA,cAAA,UACEQ,KAAK,SACLoF,QAAS0I,EACTjO,UAAS,GAAA9B,OACPyS,EAAS,wCAA0C,iBAAgB,iEAGrEhR,EAAAA,cAACuM,EAAAA,EAAQ,CAAClM,UAAU,aACpBL,EAAAA,cAAA,QAAMK,UAAU,2DACbnC,SAAkD,QAA1C+S,EAAR/S,EAAUyS,SAASvH,MAAK,SAAChE,GAAC,OAAKA,EAAEgL,OAASpS,CAAO,WAAC,IAAAiT,OAA1C,EAARA,EAAoDzR,MAChD,WAEA,IAGbQ,EAAAA,cAAC8Q,GAAAA,EAAAA,KAAS,MACP,SAAArI,GAAA,IAAGuI,EAAMvI,EAANuI,OAAM,OACRhR,EAAAA,cAAA,UACEQ,KAAK,SACLoF,QAASyK,EACThQ,UAAS,GAAA9B,OACPyS,EAAS,wCAA0C,iBAAgB,iEAGrEhR,EAAAA,cAACkR,GAAAA,EAAe,CAAC7Q,UAAU,aAAa,YACjC,IAGbL,EAAAA,cAAA,OAAKK,UAAU,8CACdnC,aAAQ,EAARA,EAAUyS,SAASxL,KAAI,SAACnH,GACvB,OACEgC,EAAAA,cAAC8Q,GAAAA,EAAAA,KAAS,CAAC/M,IAAK/F,EAAQoS,OACrB,SAAAe,GAAA,IAAGH,EAAMG,EAANH,OAAM,OACRhR,EAAAA,cAAC+G,EAAAA,GAAI,CACHC,GAAE,YAAAzI,OAAcP,EAAQoS,KAAI,YAC5B/P,UAAS,GAAA9B,OACPyS,EAAS,0BAA4B,iBAAgB,iEAGrC,QAAjBhT,EAAQoS,KACPpQ,EAAAA,cAACoR,GAAAA,EAAa,CAAC/Q,UAAU,aACvBrC,EAAQoS,OAASlS,EAASoH,SAC5BtF,EAAAA,cAACqR,GAAAA,EAAQ,CAAChR,UAAU,aAEpBL,EAAAA,cAACsR,GAAAA,EAAc,CAACjR,UAAU,aAE3BrC,EAAQwB,KACJ,GAIf,MAEDtB,aAAQ,EAARA,EAAUoH,YAAatH,GACtBgC,EAAAA,cAAA,QAAMK,UAAU,yIAAwI,MAIzJ,QAAUrC,GACTgC,EAAAA,cAAA,QAAMK,UAAU,yIAAwI,QAI1JL,EAAAA,cAAA,QAAMK,UAAU,gDACbnC,SAAkD,QAA1CqR,EAARrR,EAAUyS,SAASvH,MAAK,SAAChE,GAAC,OAAKA,EAAEgL,OAASpS,CAAO,WAAC,IAAAuR,OAA1C,EAARA,EAAoDY,cAGzDnQ,EAAAA,cAAA,OAAKK,UAAU,yEACZnC,aAAQ,EAARA,EAAUgD,OAEblB,EAAAA,cAAA,OAAKK,UAAU,4CACbL,EAAAA,cAACyQ,EAAAA,EAAQ,CAACC,UAAU,MAAME,SAAS,EAAMC,UAAU,SAChD1H,aAAQ,EAARA,EAAUhE,KAAI,SAAChC,GACd,OACEnD,EAAAA,cAAC8Q,GAAAA,EAAAA,KAAS,CAAC/M,IAAKZ,EAAK/C,IACnBJ,EAAAA,cAAA,UAAQK,UAAU,gEAChBL,EAAAA,cAACgO,GAAQ,CAAC7K,KAAMA,KAIxB,KAEFnD,EAAAA,cAACyQ,EAAAA,EAAQ,CAACC,UAAU,UAAUE,SAAS,EAAMC,UAAU,SACpDnD,aAAU,EAAVA,EAAYvI,KAAI,SAAChB,GAChB,IAAM8I,EAAWU,EAAWE,SAAS1J,EAAO/D,IAC5C,OACEJ,EAAAA,cAAC8Q,GAAAA,EAAAA,KAAS,CAAC/M,IAAKI,EAAO/D,IACrBJ,EAAAA,cAAA,UAAQK,UAAU,gEAChBL,EAAAA,cAAC+N,GAAW,CAAC5J,OAAQA,EAAQ8I,SAAUA,KAI/C,OAINjN,EAAAA,cAAA,OAAKI,GAAG,wBAAwBC,UAAU,sBACxCL,EAAAA,cAACuR,GAAO,MACRvR,EAAAA,cAAA,OAAKK,UAAU,0BACbL,EAAAA,cAACwR,EAAAA,GAAM,KACLxR,EAAAA,cAACyR,EAAAA,GAAK,CAACC,KAAK,+BAA+BC,UAAWC,IACtD5R,EAAAA,cAACyR,EAAAA,GAAK,CAACC,KAAK,gCAAgCC,UAAWE,QAI7D7R,EAAAA,cAACC,EAAAA,EAAK,CACJC,UAAW,EACXC,WAAW,gBACXtC,KAAM+R,EACN9R,aAAcA,GAEdkC,EAAAA,cAAA,QAAMI,GAAG,uBAAuBC,UAAU,SAASC,SAAU1B,EAAaoR,IACxEhQ,EAAAA,cAAA,OAAKK,UAAU,eACbL,EAAAA,cAAA,WACEA,EAAAA,cAAA,YAAM,WACNA,EAAAA,cAAA,QAAAO,GAAA,CACEH,GAAG,cACHI,KAAK,OACLH,UAAU,qNACVI,YAAY,oBACR9B,EAAS,cAAe,CAC1B+B,UAAW,EACXkE,SAAU,SAACzC,GAAC,OAAKD,EAAS,cAAeC,EAAEC,OAAOf,MAAM,OAI9DrB,EAAAA,cAAA,OAAKK,UAAU,QACbL,EAAAA,cAAA,YAAM,UACNA,EAAAA,cAAA,QAAAO,GAAA,CACEH,GAAG,cACHI,KAAK,OACLH,UAAU,qNACVI,YAAY,kBACR9B,EAAS,cAAe,CAC1B+B,UAAW,OAIjBV,EAAAA,cAAA,OAAKK,UAAU,QACbL,EAAAA,cAAA,YAAM,WACNA,EAAAA,cAAA,QAAAO,GAAA,CACEH,GAAG,cACHI,KAAK,OACLH,UAAU,qNACVI,YAAY,YACR9B,EAAS,cAAe,CAAC,OAInCqB,EAAAA,cAAA,OAAKK,UAAU,uBACbL,EAAAA,cAAA,UACEW,SAAU9B,EACV2B,KAAK,SACLH,UAAU,6OACX,WAMPL,EAAAA,cAACqP,EAAY,CACXxR,KAAMuQ,EACNtQ,aAAcA,EACdC,oBAAqBA,IAEvBiC,EAAAA,cAAC8R,EAAkB,CACjBjU,KAAMkS,EACNjS,aAAcA,EACd8C,0BAA2BA,IAG7BZ,EAAAA,cAAC+R,EAAAA,GAAc,CAACC,SAAS,kBAG/B,C","sources":["webpack://blooways-front/./components/AddAreaModal/index.tsx","webpack://blooways-front/./components/InviteBloowayModal/index.tsx","webpack://blooways-front/./hooks/useSocket.ts","webpack://blooways-front/./hooks/useInput.ts","webpack://blooways-front/./functions/makeSection.ts","webpack://blooways-front/./components/InviteAreaModal/index.tsx","webpack://blooways-front/./components/TalkForm/index.tsx","webpack://blooways-front/./components/TalkField/index.tsx","webpack://blooways-front/./components/TalkList/index.tsx","webpack://blooways-front/./pages/AreaPage/index.tsx","webpack://blooways-front/./pages/PrivatePage/index.tsx","webpack://blooways-front/./components/PrivateItem/index.tsx","webpack://blooways-front/./components/PrivateList/index.tsx","webpack://blooways-front/./components/AreaItem/index.tsx","webpack://blooways-front/./components/AreaList/index.tsx","webpack://blooways-front/./components/SideBar/index.tsx","webpack://blooways-front/./layouts/Blooway/index.tsx"],"sourcesContent":["import Modal from '@components/Modal';\nimport { Area, User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport axios from 'axios';\nimport React, { FC, useCallback } from 'react';\nimport { useParams } from 'react-router';\nimport useSWR from 'swr';\nimport { SubmitHandler, useForm } from 'react-hook-form';\nimport { toast } from 'react-toastify';\nimport { toastConfig } from '@functions/global';\n\ninterface AddAreaModalProps {\n  show: boolean;\n  onCloseModal: () => void;\n  setShowAddAreaModal: (flag: boolean) => void;\n}\nconst AddAreaModal: FC<AddAreaModalProps> = ({ show, onCloseModal, setShowAddAreaModal }) => {\n  const params = useParams<{ blooway?: string }>();\n  const { blooway } = params;\n  const { data: userData } = useSWR<User | false>('/api/users', ApiFetcher);\n  const { mutate: revalidateArea } = useSWR<Area[]>(\n    userData ? `/api/blooways/${blooway}/areas` : null,\n    ApiFetcher,\n  );\n  interface onAddAreaValues {\n    areaName: string;\n  }\n  const {\n    register,\n    handleSubmit,\n    formState: { isSubmitting },\n  } = useForm<onAddAreaValues>();\n\n  const onAddArea: SubmitHandler<onAddAreaValues> = useCallback(\n    (formData) => {\n      const { areaName } = formData;\n      if (!areaName || !areaName.trim()) {\n        return toast.error('에리어 이름을 입력해주세요.', toastConfig);\n      }\n      if (areaName.length > 14) {\n        return toast.error('14자 이내의 에리어 이름을 입력해주세요.', toastConfig);\n      }\n      axios\n        .post(`/api/blooways/${blooway}/areas`, {\n          name: areaName,\n        })\n        .then(() => {\n          revalidateArea();\n          setShowAddAreaModal(false);\n          toast.success(`에리어 ${areaName}를 생성했습니다.`, toastConfig);\n        })\n        .catch((error) => {\n          console.dir(error);\n          toast.error(error.response?.data, toastConfig);\n        });\n    },\n    [setShowAddAreaModal, blooway, revalidateArea],\n  );\n\n  return (\n    <Modal modalType={0} modalTitle='새로운 에리어 추가하기' show={show} onCloseModal={onCloseModal}>\n      <form id='add-area-modal' className='w-full' onSubmit={handleSubmit(onAddArea)}>\n        <div className='w-full my-4'>\n          <span>에리어 이름</span>\n          <input\n            id='areaName'\n            type='text'\n            className='mt-2 relative block w-full appearance-none rounded-md  border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n            placeholder='2-14자 이내로 설정해주세요'\n            {...register('areaName', {\n              minLength: 2,\n            })}\n          />\n        </div>\n        <div className='flex justify-center'>\n          <button\n            disabled={isSubmitting}\n            type='submit'\n            className='inline-flex justify-center rounded-md border border-transparent bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2'\n          >\n            생성하기\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default AddAreaModal;\n","import Modal from '@components/Modal';\nimport { User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport axios from 'axios';\nimport React, { FC, useCallback } from 'react';\nimport { useParams } from 'react-router';\nimport { toast } from 'react-toastify';\nimport useSWR from 'swr';\nimport { SubmitHandler, useForm } from 'react-hook-form';\nimport { toastConfig } from '@functions/global';\n\ninterface Props {\n  show: boolean;\n  onCloseModal: () => void;\n  setShowInviteBloowayModal: (flag: boolean) => void;\n}\nconst InviteBloowayModal: FC<Props> = ({ show, onCloseModal, setShowInviteBloowayModal }) => {\n  const { blooway } = useParams<{ blooway: string; area: string }>();\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher);\n  const { mutate: revalidateMember } = useSWR<User[]>(\n    userData ? `/api/blooways/${blooway}/members` : null,\n    ApiFetcher,\n  );\n\n  interface InviteMemberValues {\n    memberEmail: string;\n  }\n  const {\n    register,\n    handleSubmit,\n    formState: { isSubmitting, errors },\n  } = useForm<InviteMemberValues>();\n  const onInviteMember: SubmitHandler<InviteMemberValues> = useCallback(\n    (formData) => {\n      const { memberEmail } = formData;\n      if (!memberEmail || !memberEmail.trim()) {\n        return toast.error('초대할 멤버의 이메일을 입력해주세요', toastConfig);\n      }\n      axios\n        .post(`/api/blooways/${blooway}/members`, {\n          email: memberEmail,\n        })\n        .then(() => {\n          revalidateMember();\n          setShowInviteBloowayModal(false);\n          toast.success(`${memberEmail}님을 ${blooway} 블루웨이에 초대했습니다.`, toastConfig);\n        })\n        .catch((error) => {\n          console.dir(error);\n          toast.error(error.response?.data, toastConfig);\n        });\n    },\n    [blooway, revalidateMember, setShowInviteBloowayModal],\n  );\n\n  return (\n    <Modal modalType={0} modalTitle='블루웨이에 멤버 초대하기' show={show} onCloseModal={onCloseModal}>\n      <form id='invite-blooway-modal' className='w-full' onSubmit={handleSubmit(onInviteMember)}>\n        <div className='w-full my-4'>\n          <span>멤버 이메일</span>\n          <input\n            id='memberEmail'\n            type='text'\n            className='mt-2 relative block w-full appearance-none rounded-md  border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n            placeholder='이메일 주소'\n            {...register('memberEmail', {\n              maxLength: 100,\n              pattern: {\n                value: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,\n                message: '이메일 형식에 맞지 않습니다',\n              },\n            })}\n          />\n        </div>\n        <div className='flex justify-center flex-col'>\n          <span className='text-xs mx-auto text-amber-500 mb-3'>\n            {errors.memberEmail && errors.memberEmail.message}\n          </span>\n          <button\n            disabled={isSubmitting}\n            type='submit'\n            className='inline-flex justify-center rounded-md border border-transparent bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2'\n          >\n            초대하기\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default InviteBloowayModal;\n","import { backUrl } from '@functions/global';\nimport { useCallback } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\nconst sockets: { [key: string]: Socket } = {};\nconst useSocket = (blooway?: string): [Socket | undefined, () => void] => {\n  const disconnect = useCallback(() => {\n    if (blooway && sockets[blooway]) {\n      // console.log('💠 Socket Disconnected');\n      sockets[blooway].disconnect();\n      delete sockets[blooway];\n    }\n  }, [blooway]);\n  if (!blooway) {\n    return [undefined, disconnect];\n  }\n  if (!sockets[blooway]) {\n    // 연결된 소켓이 없었으면\n    sockets[blooway] = io(`${backUrl}/bw-${blooway}`, {\n      transports: ['websocket'],\n    });\n    // console.info('새 소켓 생성', blooway, sockets[blooway]);\n    sockets[blooway].on('connect_error', (error) => {\n      console.error(error);\n      console.log(`connect_error due to ${error.message}`);\n    });\n  }\n  // 이미 연결된 소켓이 있으면 기존 소켓 리턴\n  return [sockets[blooway], disconnect];\n};\n\nexport default useSocket;\n","import { Dispatch, SetStateAction, useCallback, useState } from 'react';\n\ntype Handler = (e: any) => void;\ntype ReturnTypes<T = any> = [T, Handler, Dispatch<SetStateAction<T>>];\nconst useInput = <T = any>(initialValue: T): ReturnTypes<T> => {\n  const [value, setValue] = useState(initialValue);\n  const handler = useCallback((e: any) => {\n    setValue(e.target.value);\n  }, []);\n  return [value, handler, setValue];\n};\n\nexport default useInput;\n","import { Talk, Private } from '@typings/types';\nimport dayjs from 'dayjs';\n\nexport default function makeSection<T extends Private | Talk>(talkList: T[]) {\n  const sections: { [key: string]: T[] } = {};\n  talkList.forEach((talk) => {\n    const monthDate = dayjs(talk.createdAt).format('YYYY-MM-DD');\n    if (Array.isArray(sections[monthDate])) {\n      sections[monthDate].push(talk);\n    } else {\n      sections[monthDate] = [talk];\n    }\n  });\n  return sections;\n}\n","import Modal from '@components/Modal';\nimport { User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport axios from 'axios';\nimport React, { FC, useCallback } from 'react';\nimport { useParams } from 'react-router';\nimport { toast } from 'react-toastify';\nimport useSWR from 'swr';\nimport { SubmitHandler, useForm } from 'react-hook-form';\nimport { toastConfig } from '@functions/global';\n\ninterface InviteAreaModalProps {\n  show: boolean;\n  onCloseModal: () => void;\n  setShowInviteAreaModal: (flag: boolean) => void;\n}\nconst InviteAreaModal: FC<InviteAreaModalProps> = ({ show, onCloseModal, setShowInviteAreaModal }) => {\n  const { blooway, area } = useParams<{ blooway: string; area: string }>();\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher);\n  const { mutate: revalidateMembers } = useSWR<User[]>(\n    userData ? `/api/blooways/${blooway}/areas/${area}/members` : null,\n    ApiFetcher,\n  );\n\n  interface InviteMemberValues {\n    memberEmail: string;\n  }\n  const {\n    register,\n    handleSubmit,\n    formState: { isSubmitting, errors },\n  } = useForm<InviteMemberValues>();\n  const onInviteMember: SubmitHandler<InviteMemberValues> = useCallback(\n    (formData) => {\n      const { memberEmail } = formData;\n      if (!memberEmail || !memberEmail.trim()) {\n        return toast.error('초대할 멤버의 이메일을 입력해주세요', toastConfig);\n      }\n      axios\n        .post(`/api/blooways/${blooway}/areas/${area}/members`, {\n          email: memberEmail,\n        })\n        .then(() => {\n          revalidateMembers();\n          setShowInviteAreaModal(false);\n          toast.success(`${memberEmail}님을 ${area} 에리어에 초대했습니다.`, toastConfig);\n        })\n        .catch((error) => {\n          console.dir(error);\n          toast.error(error.response?.data, toastConfig);\n        });\n    },\n    [area, revalidateMembers, setShowInviteAreaModal, blooway],\n  );\n\n  return (\n    <Modal\n      modalType={0}\n      modalTitle={`${area} 에리어에 멤버 초대하기`}\n      show={show}\n      onCloseModal={onCloseModal}\n    >\n      <form id='invite-area-modal' className='w-full' onSubmit={handleSubmit(onInviteMember)}>\n        <div className='w-full my-4'>\n          <span>멤버 이메일</span>\n          <input\n            id='memberEmail'\n            type='text'\n            className='mt-2 relative block w-full appearance-none rounded-md  border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n            placeholder='이메일 주소'\n            {...register('memberEmail', {\n              maxLength: 100,\n              pattern: {\n                value: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,\n                message: '이메일 형식에 맞지 않습니다',\n              },\n            })}\n          />\n        </div>\n        <div className='flex justify-center flex-col'>\n          <span className='text-xs mx-auto text-amber-500 mb-3'>\n            {errors.memberEmail && errors.memberEmail.message}\n          </span>\n          <button\n            disabled={isSubmitting}\n            type='submit'\n            className='inline-flex justify-center rounded-md border border-transparent bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2'\n          >\n            초대하기\n          </button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nexport default InviteAreaModal;\n","import InviteAreaModal from '@components/InviteAreaModal';\nimport { PhotoIcon, RocketLaunchIcon, UserPlusIcon } from '@heroicons/react/20/solid';\nimport { User } from '@typings/types';\nimport Avvvatars from 'avvvatars-react';\nimport React, { FC, useCallback, useState } from 'react';\nimport { Mention, MentionsInput, SuggestionDataItem } from 'react-mentions';\nimport styled from 'styled-components';\n\nexport const MentionsInputText = styled(MentionsInput)`\n  padding: 10px;\n\n  & textarea {\n    height: 80px;\n    padding: 9px 10px !important;\n    outline: none !important;\n    border-top-left-radius: 10px !important;\n    border-top-right-radius: 10px !important;\n    resize: none !important;\n    line-height: 22px;\n    border: none;\n    ::placeholder {\n      color: #b4b4b4;\n      font-size: 14px;\n    }\n    &:focus {\n      border-color: #cccccc;\n      -webkit-box-shadow: none;\n      box-shadow: none;\n    }\n  }\n`;\n\ninterface TalkFormProps {\n  onSubmitForm: (e: any) => void;\n  talk?: string;\n  onChangeTalk: (e: any) => void;\n  placeholder: string;\n  data?: User[];\n  inPage: string;\n  onImageUpload: (e: any) => void;\n}\nconst TalkForm: FC<TalkFormProps> = ({\n  onSubmitForm,\n  talk,\n  onChangeTalk,\n  placeholder,\n  data,\n  inPage,\n  onImageUpload,\n}) => {\n  const [showInviteAreaModal, setShowInviteAreaModal] = useState(false);\n\n  const onKeydownTalk = useCallback(\n    (e: any) => {\n      if (e.key === 'Enter') {\n        if (!e.shiftKey) {\n          e.preventDefault();\n          onSubmitForm(e);\n        }\n      }\n    },\n    [onSubmitForm],\n  );\n\n  const renderUserSuggestion: (\n    suggestion: SuggestionDataItem,\n    search: string,\n    highlightedDisplay: React.ReactNode,\n    index: number,\n    focused: boolean,\n  ) => React.ReactNode = useCallback(\n    (member, search, highlightedDisplay, index, focus) => {\n      if (!data) {\n        return null;\n      }\n      return (\n        <button\n          className={`${\n            focus && 'bg-amber-500 text-white'\n          } gap-1 text-xs rounded-md px-1 relative bottom-1 py-1 flex border-none items-center w-full`}\n        >\n          <Avvvatars size={18} style='shape' value={data[index].email} />\n          <span>{highlightedDisplay}</span>\n        </button>\n      );\n    },\n    [data],\n  );\n\n  const onClickInviteArea = useCallback(() => {\n    setShowInviteAreaModal(true);\n  }, []);\n  const onCloseModal = useCallback(() => {\n    setShowInviteAreaModal(false);\n  }, []);\n\n  return (\n    <div id='talk-form' className='pb-5 w-full flex pt-0'>\n      <form onSubmit={onSubmitForm} className='w-full border rounded-lg'>\n        <MentionsInputText\n          id='talk'\n          value={talk}\n          onChange={onChangeTalk}\n          onKeyPress={onKeydownTalk}\n          placeholder={placeholder}\n          wrap='hard'\n          forceSuggestionsAboveCursor\n          className='h-20 text-sm md:text-base'\n        >\n          <Mention\n            appendSpaceOnAdd\n            trigger='@'\n            data={data?.map((v) => ({ id: v.id, display: v.username })) || []}\n            renderSuggestion={renderUserSuggestion}\n          />\n        </MentionsInputText>\n        <div className='flex justify-between relative items-center px-2 h-9 bg-slate-100'>\n          <div className='flex items-center'>\n            <label\n              htmlFor='imageUpload'\n              className='cursor-pointer hover:text-amber-500 flex h-9 w-9 items-center justify-center rounded-lg'\n            >\n              <PhotoIcon className='h-6 w-6' aria-hidden='true' />\n            </label>\n            <input\n              id='imageUpload'\n              type='file'\n              multiple\n              accept='image/*'\n              className='hidden'\n              onChange={onImageUpload}\n            />\n            {inPage === 'area' && (\n              <button\n                type='button'\n                onClick={onClickInviteArea}\n                className='flex justify-center items-center p-1 rounded-md duration-200'\n              >\n                <UserPlusIcon className='text-slate-800 hover:text-amber-500 w-5' />\n              </button>\n            )}\n            {inPage === 'private' && (\n              <div className='flex justify-center items-center p-1 text-slate-800 rounded-md duration-200'></div>\n            )}\n          </div>\n\n          <button\n            type='submit'\n            className={`${\n              talk?.trim() && 'bg-amber-500 shadow '\n            } flex justify-center items-center p-1 rounded-md  duration-200`}\n          >\n            <RocketLaunchIcon\n              className={`${talk?.trim() ? 'hover:scale-105 text-white' : 'text-slate-300'}  w-5 `}\n            />\n          </button>\n        </div>\n      </form>\n      {inPage === 'area' && (\n        <InviteAreaModal\n          show={showInviteAreaModal}\n          onCloseModal={onCloseModal}\n          setShowInviteAreaModal={setShowInviteAreaModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TalkForm;\n","import { backUrl } from '@functions/global';\nimport { Talk, Private, User } from '@typings/types';\nimport Avvvatars from 'avvvatars-react';\nimport dayjs from 'dayjs';\nimport React, { FC, useMemo, memo, useCallback, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { Link, NavLink } from 'react-router-dom';\nimport regexifyString from 'regexify-string';\n\ninterface TalkFieldProps {\n  data: Private | Talk;\n}\nconst TalkField: FC<TalkFieldProps> = memo(({ data }) => {\n  const [showCarousel, setShowCarousel] = useState(false);\n  const { blooway } = useParams<{ blooway: string; area: string }>();\n  const user: User = 'Sender' in data ? data.Sender : data.User;\n  const result = useMemo<(string | JSX.Element)[] | JSX.Element>(\n    () =>\n      data.content.startsWith('uploads\\\\') ||\n      data.content.startsWith('uploads/') ||\n      data.content.startsWith('https://bloowaysbucket') ? (\n        <img\n          id='image'\n          src={process.env.NODE_ENV === 'production' ? `${data.content}` : `${backUrl + '/' + data.content}`}\n          className='max-h-52'\n        />\n      ) : (\n        regexifyString({\n          pattern: /@\\[(.+?)]\\((\\d+?)\\)|\\n/g,\n          decorator(match, index) {\n            const matched: string[] | null = match.match(/@\\[(.+?)]\\((\\d+?)\\)/)!;\n            if (matched) {\n              return (\n                <Link key={match + index} to={`/blooway/${blooway}/private/${matched[2]}`}>\n                  @{matched[1]}\n                </Link>\n              );\n            }\n            return <br key={index} />;\n          },\n          input: data.content,\n        })\n      ),\n    [blooway, data.content],\n  );\n  const onShowCarousel = useCallback((e: any) => {\n    if (e.target.id === 'image') {\n      setShowCarousel(true);\n    }\n  }, []);\n  const onCloseCarousel = useCallback(() => {\n    setShowCarousel(false);\n  }, []);\n  return (\n    <div className='my-1 pt-1.5 pb-3.5 px-2 pr-6 duration-200 rounded-lg hover:bg-slate-100 flex w-full flex-col'>\n      <div className='flex w-full justify-between items-center'>\n        <NavLink\n          className='flex items-center'\n          activeClassName='text-amber-500 font-semibold'\n          to={`/blooway/${blooway}/private/${user.id}`}\n        >\n          <Avvvatars size={32} style='shape' value={user.email} />\n          <div className='ml-2 text-md font-semibold text-slate-800'>{user.username}</div>\n        </NavLink>\n        <div className='flex items-center mt-1 text-xs leading-5 text-slate-400'>\n          <span>{dayjs(data.createdAt).format('A h:mm')}</span>\n        </div>\n      </div>\n\n      <p onClick={onShowCarousel} className='break-words whitespace-pre-line ml-10 text-sm'>\n        {result}\n      </p>\n      {showCarousel && (\n        <div\n          onClick={onCloseCarousel}\n          className='p-3 z-40 bg-slate-800/70  fixed w-full h-full top-0 left-0 flex items-center [&>img]:w-full [&>img]:h-auto [&>img]:shadow-lg [&>img]:shadow-slate-800/80 [&>img]:max-h-full'\n        >\n          {result}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default TalkField;\n","import TalkField from '@components/TalkField';\nimport { Talk, Private } from '@typings/types';\nimport React, { FC, RefObject, useCallback } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars-2';\n\ninterface TalkListProps {\n  scrollbarRef: RefObject<Scrollbars>;\n  isDataEnd?: boolean;\n  isEmpty: boolean;\n  talkSections: { [key: string]: (Private | Talk)[] };\n  setSize: (f: (size: number) => number) => Promise<(Private | Talk)[][] | undefined>;\n}\nconst TalkList: FC<TalkListProps> = ({ scrollbarRef, isDataEnd, isEmpty, talkSections, setSize }) => {\n  const onScroll = useCallback(\n    (e: any) => {\n      if (e.scrollTop === 0 && !isDataEnd && !isEmpty) {\n        setSize((size) => size + 1).then(() => {\n          scrollbarRef.current?.scrollTop(scrollbarRef.current?.getScrollHeight() - e.scrollHeight);\n        });\n      }\n    },\n    [setSize, scrollbarRef, isDataEnd, isEmpty],\n  );\n\n  return (\n    <div id='talk-list' className='overflow-x-hidden w-full h-full flex'>\n      <Scrollbars autoHide ref={scrollbarRef} onScrollFrame={onScroll}>\n        {Object.entries(talkSections).map(([date, talks]) => {\n          return (\n            <section className={`section-${date}`} key={date}>\n              <div\n                id='talklist-bar'\n                className='flex items-center overflow-x-hidden justify-center flex-[1] w-full sticky top-[7px] md:top-[12px]'\n              >\n                <div className='absolute left-2'>{}</div>\n                <div className='ml-2 inline-flex items-center rounded-md bg-slate-50 px-2 py-1 text-xs font-medium text-slate-800 ring-1 ring-inset ring-slate-500/10'>\n                  {date}\n                </div>\n              </div>\n              {talks.map((talk) => (\n                <TalkField key={talk.id} data={talk} />\n              ))}\n            </section>\n          );\n        })}\n      </Scrollbars>\n    </div>\n  );\n};\n\nexport default TalkList;\n","import useInput from '@hooks/useInput';\nimport useSocket from '@hooks/useSocket';\nimport { Area, Talk, User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport makeSection from '@functions/makeSection';\nimport axios from 'axios';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars-2';\nimport { useParams } from 'react-router';\nimport { Redirect } from 'react-router-dom';\nimport useSWR from 'swr';\nimport useSWRInfinite from 'swr/infinite';\nimport TalkForm from '@components/TalkForm';\nimport TalkList from '@components/TalkList';\nimport { ChatBubbleOvalLeftEllipsisIcon, CubeIcon, UserPlusIcon } from '@heroicons/react/20/solid';\nimport InviteAreaModal from '@components/InviteAreaModal';\n\nconst PAGE_SIZE = 20;\nconst AreaPage = () => {\n  const { blooway, area } = useParams<{ blooway: string; area: string }>();\n  const [socket] = useSocket(blooway);\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher);\n  const { data: areasData } = useSWR<Area[]>(`/api/blooways/${blooway}/areas`, ApiFetcher);\n  const areaData = areasData?.find((v) => v.name === area);\n\n  const {\n    data: talkData,\n    mutate: mutateTalk,\n    setSize,\n  } = useSWRInfinite<Talk[]>(\n    (index) => `/api/blooways/${blooway}/areas/${area}/talks?perPage=${PAGE_SIZE}&page=${index + 1}`,\n    ApiFetcher,\n    {\n      onSuccess(data) {\n        if (data?.length === 1) {\n          setTimeout(() => {\n            scrollbarRef.current?.scrollToBottom();\n          }, 100);\n        }\n      },\n    },\n  );\n  const { data: areaMembersData } = useSWR<User[]>(\n    userData ? `/api/blooways/${blooway}/areas/${area}/members` : null,\n    ApiFetcher,\n  );\n  const [talk, onChangeTalk, setTalk] = useInput('');\n  const [talkArrived, setTalkArrived] = useState(false);\n  const scrollbarRef = useRef<Scrollbars>(null);\n  const [, setDragOver] = useState(false);\n  const [, setImageUploaded] = useState(false);\n  const [showInviteAreaModal, setShowInviteAreaModal] = useState(false);\n  const isEmpty = talkData?.[0]?.length === 0;\n  const isDataEnd = isEmpty || (talkData && talkData[talkData.length - 1]?.length < PAGE_SIZE);\n\n  const onSubmitForm = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      if (talk?.trim() && talkData && areaData && userData) {\n        const savedTalk = talk;\n        mutateTalk((prevTalkData) => {\n          prevTalkData?.[0].unshift({\n            id: (talkData[0][0]?.id || 0) + 1,\n            content: savedTalk,\n            UserId: userData.id, // Sender, 에리어에서는 받는 사람은 필요없고 보내는 사람만 있어도 ok.\n            User: userData,\n            createdAt: new Date(),\n            AreaId: areaData.id,\n            Area: areaData,\n          });\n          return prevTalkData;\n        }, false).then(() => {\n          localStorage.setItem(`${blooway}-${area}`, new Date().getTime().toString());\n          setTalk('');\n          setTalkArrived(false);\n          if (scrollbarRef.current) {\n            scrollbarRef.current.scrollToBottom();\n          }\n        });\n        axios\n          .post(`/api/blooways/${blooway}/areas/${area}/talks`, {\n            content: savedTalk,\n          })\n          .catch(console.error);\n      }\n    },\n    [talk, blooway, area, areaData, userData, talkData, mutateTalk, setTalk],\n  );\n\n  const onMessage = useCallback(\n    (data: Talk) => {\n      if (\n        data.Area.name === area &&\n        (data.content.startsWith('uploads\\\\') ||\n          data.content.startsWith('uploads/') ||\n          data.UserId !== userData?.id)\n      ) {\n        mutateTalk((talkData) => {\n          talkData?.[0].unshift(data);\n          return talkData;\n        }, false).then(() => {\n          if (scrollbarRef.current) {\n            if (\n              scrollbarRef.current.getScrollHeight() <\n              scrollbarRef.current.getClientHeight() + scrollbarRef.current.getScrollTop() + 150\n            ) {\n              setTalkArrived(false);\n              setTimeout(() => {\n                scrollbarRef.current?.scrollToBottom();\n              }, 100);\n            } else {\n              setTalkArrived(true);\n            }\n          }\n        });\n      }\n    },\n    [area, userData, mutateTalk],\n  );\n\n  useEffect(() => {\n    socket?.on('message', onMessage);\n    return () => {\n      socket?.off('message', onMessage);\n    };\n  }, [socket, onMessage]);\n\n  useEffect(() => {\n    localStorage.setItem(`${blooway}-${area}`, new Date().getTime().toString());\n  }, [blooway, area]);\n\n  const onDrop = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      const formData = new FormData();\n      if (e.dataTransfer.items) {\n        for (let i = 0; i < e.dataTransfer.items.length; i++) {\n          if (e.dataTransfer.items[i].kind === 'file') {\n            const file = e.dataTransfer.items[i].getAsFile();\n            formData.append('image', file);\n          }\n        }\n      } else {\n        for (let i = 0; i < e.dataTransfer.files.length; i++) {\n          formData.append('image', e.dataTransfer.files[i]);\n        }\n      }\n      axios.post(`/api/blooways/${blooway}/areas/${area}/images`, formData).then(() => {\n        setDragOver(false);\n        localStorage.setItem(`${blooway}-${area}`, new Date().getTime().toString());\n      });\n    },\n    [blooway, area],\n  );\n  const onImageUpload = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      const formData = new FormData();\n      for (let i = 0; i < e.target.files.length; i++) {\n        formData.append('image', e.target.files[i]);\n      }\n      axios.post(`/api/blooways/${blooway}/areas/${area}/images`, formData).then(() => {\n        setImageUploaded(true);\n        localStorage.setItem(`${blooway}-${area}`, new Date().getTime().toString());\n        setImageUploaded(false);\n      });\n    },\n    [blooway, area],\n  );\n  const onClickInviteArea = useCallback(() => {\n    setShowInviteAreaModal(true);\n  }, []);\n  const onTalkArrivedConfirmed = useCallback(() => {\n    setTalkArrived(false);\n    scrollbarRef.current?.scrollToBottom();\n  }, []);\n  const onDragOver = useCallback((e: any) => {\n    e.preventDefault();\n    setDragOver(true);\n  }, []);\n  const onCloseModal = useCallback(() => {\n    setShowInviteAreaModal(false);\n  }, []);\n  if (areasData && !areaData) {\n    return <Redirect to={`/blooway/${blooway}/area/전체`} />;\n  }\n\n  const talkSections = makeSection(talkData ? ([] as Talk[]).concat(...talkData).reverse() : []);\n\n  return (\n    <div\n      id='area-page'\n      className='flex flex-col overflow-x-hidden w-full h-full relative '\n      onDrop={onDrop}\n      onDragOver={onDragOver}\n    >\n      <div\n        id='mobile-area-pointer'\n        className='flex items-center w-full justify-between absolute top-2 md:top-3 left-1 text-sm z-10'\n      >\n        <div className='flex items-center bg-amber-500 text-white px-1.5 py-0.5 rounded-md '>\n          <CubeIcon className='w-4 mr-0.5' />\n          <span className='max-w-[65px] md:max-w-[150px] text-ellipsis overflow-hidden'>{area}</span>\n        </div>\n        <button\n          onClick={onClickInviteArea}\n          type='button'\n          className='hover:bg-slate-900 flex items-center bg-slate-800 text-white px-1.5 relative right-2 py-0.5 rounded-md '\n        >\n          <UserPlusIcon className='w-4 mr-1' />\n          멤버\n        </button>\n      </div>\n      {isEmpty && (\n        <div className='relative text-sm text-center w-full h-full text-slate-500 flex items-center justify-center'>\n          내용이 없습니다\n          <br />\n          메시지를 보내서 멤버들과 토크를 시작해보세요!\n        </div>\n      )}\n      {talkArrived && (\n        <button\n          type='button'\n          onClick={onTalkArrivedConfirmed}\n          className=' hover:bg-amber-600 absolute bottom-40 animate-bounce mx-auto z-10 left-0 right-0 px-2 py-0.5 w-[85px] flex items-center justify-center text-sm font-medium bg-amber-500 text-white rounded-md'\n        >\n          <ChatBubbleOvalLeftEllipsisIcon className=' w-4 mr-0.5' />새 토크\n        </button>\n      )}\n\n      <TalkList\n        scrollbarRef={scrollbarRef}\n        isDataEnd={isDataEnd}\n        isEmpty={isEmpty}\n        talkSections={talkSections}\n        setSize={setSize}\n      />\n      <TalkForm\n        onSubmitForm={onSubmitForm}\n        talk={talk}\n        onChangeTalk={onChangeTalk}\n        placeholder={`${area} 에리어에 토크`}\n        data={areaMembersData}\n        inPage='area'\n        onImageUpload={onImageUpload}\n      />\n\n      <InviteAreaModal\n        show={showInviteAreaModal}\n        onCloseModal={onCloseModal}\n        setShowInviteAreaModal={setShowInviteAreaModal}\n      />\n    </div>\n  );\n};\n\nexport default AreaPage;\n","import TalkForm from '@components/TalkForm';\nimport TalkList from '@components/TalkList';\nimport useInput from '@hooks/useInput';\nimport useSocket from '@hooks/useSocket';\nimport { Private } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport axios from 'axios';\nimport React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars-2';\nimport { useParams } from 'react-router';\nimport makeSection from '@functions/makeSection';\nimport useSWR from 'swr';\nimport useSWRInfinite from 'swr/infinite';\nimport { ChatBubbleOvalLeftEllipsisIcon, EyeSlashIcon } from '@heroicons/react/20/solid';\n\nconst PAGE_SIZE = 20;\nconst PrivatePage: FC = () => {\n  const { blooway, id } = useParams<{ blooway: string; id: string }>();\n  const [socket] = useSocket(blooway);\n  const { data: meData } = useSWR('/api/users', ApiFetcher);\n  const { data: userData } = useSWR(`/api/blooways/${blooway}/users/${id}`, ApiFetcher);\n  const {\n    data: talkData,\n    mutate: mutateTalk,\n    setSize, // setSize: 페이지 수를 변경\n  } = useSWRInfinite<Private[]>(\n    (index) => `/api/blooways/${blooway}/privates/${id}/talks?perPage=${PAGE_SIZE}&page=${index + 1}`,\n    ApiFetcher,\n    {\n      onSuccess(data) {\n        if (data?.length === 1) {\n          setTimeout(() => {\n            scrollbarRef.current?.scrollToBottom();\n          }, 100);\n        }\n      },\n    },\n  );\n  const [talk, onChangeTalk, setTalk] = useInput('');\n  const [talkArrived, setTalkArrived] = useState(false);\n  const scrollbarRef = useRef<Scrollbars>(null);\n  const [, setDragOver] = useState(false);\n\n  const isEmpty = talkData?.[0]?.length === 0;\n  const isDataEnd = isEmpty || (talkData && talkData[talkData.length - 1]?.length < PAGE_SIZE);\n\n  const onSubmitForm = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      if (talk?.trim() && talkData) {\n        const savedTalk = talk;\n        // optimistic ui, optimistic ui 사용 후에는 shouldRevalidate가 false여야 함.\n        mutateTalk((prevTalkData) => {\n          prevTalkData?.[0].unshift({\n            id: (talkData[0][0]?.id || 0) + 1,\n            content: savedTalk,\n            SenderId: meData.id,\n            Sender: meData,\n            ReceiverId: userData.id,\n            Receiver: userData,\n            createdAt: new Date(),\n          });\n          return prevTalkData;\n        }, false).then(() => {\n          localStorage.setItem(`${blooway}-${id}`, new Date().getTime().toString());\n          setTalk('');\n          setTalkArrived(false);\n          if (scrollbarRef.current) {\n            scrollbarRef.current.scrollToBottom();\n          }\n        });\n        axios\n          .post(`/api/blooways/${blooway}/privates/${id}/talks`, {\n            content: talk,\n          })\n          .catch(console.error);\n      }\n    },\n    [talk, blooway, id, meData, userData, talkData, mutateTalk, setTalk],\n  );\n\n  const onMessage = useCallback(\n    (data: Private) => {\n      // id는 상대방 id\n      if (data.SenderId === Number(id) && meData.id !== Number(id)) {\n        mutateTalk((talkData) => {\n          talkData?.[0].unshift(data);\n          return talkData;\n        }, false).then(() => {\n          if (scrollbarRef.current) {\n            if (\n              scrollbarRef.current.getScrollHeight() <\n              scrollbarRef.current.getClientHeight() + scrollbarRef.current.getScrollTop() + 150\n            ) {\n              setTalkArrived(false);\n              setTimeout(() => {\n                scrollbarRef.current?.scrollToBottom();\n              }, 100);\n            } else {\n              setTalkArrived(true);\n            }\n          }\n        });\n      }\n    },\n    [id, meData, mutateTalk],\n  );\n\n  useEffect(() => {\n    socket?.on('private', onMessage);\n    return () => {\n      socket?.off('private', onMessage);\n    };\n  }, [socket, onMessage]);\n\n  useEffect(() => {\n    localStorage.setItem(`${blooway}-${id}`, new Date().getTime().toString());\n  }, [blooway, id]);\n\n  const onDrop = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      const formData = new FormData();\n      if (e.dataTransfer.items) {\n        for (let i = 0; i < e.dataTransfer.items.length; i++) {\n          if (e.dataTransfer.items[i].kind === 'file') {\n            const file = e.dataTransfer.items[i].getAsFile();\n            // console.log('... file[' + i + '].name = ' + file.name);\n            formData.append('image', file);\n          }\n        }\n      } else {\n        for (let i = 0; i < e.dataTransfer.files.length; i++) {\n          // console.log('... file[' + i + '].name = ' + e.dataTransfer.files[i].name);\n          formData.append('image', e.dataTransfer.files[i]);\n        }\n      }\n      axios.post(`/api/blooways/${blooway}/privates/${id}/images`, formData).then(() => {\n        setDragOver(false);\n        localStorage.setItem(`${blooway}-${id}`, new Date().getTime().toString());\n        mutateTalk();\n      });\n    },\n    [blooway, id, mutateTalk],\n  );\n  const onImageUpload = useCallback(\n    (e: any) => {\n      e.preventDefault();\n      const formData = new FormData();\n      for (let i = 0; i < e.target.files.length; i++) {\n        formData.append('image', e.target.files[i]);\n      }\n      axios.post(`/api/blooways/${blooway}/privates/${id}/images`, formData).then(() => {\n        localStorage.setItem(`${blooway}-${id}`, new Date().getTime().toString());\n        mutateTalk();\n      });\n    },\n    [blooway, id, mutateTalk],\n  );\n  const onTalkArrivedConfirmed = useCallback(() => {\n    setTalkArrived(false);\n    scrollbarRef.current?.scrollToBottom();\n  }, []);\n  const onDragOver = useCallback((e: any) => {\n    e.preventDefault();\n    setDragOver(true);\n  }, []);\n\n  if (!userData || !meData) {\n    return null;\n  }\n\n  const talkSections = makeSection(talkData ? ([] as Private[]).concat(...talkData).reverse() : []);\n\n  return (\n    <div\n      className='flex flex-col overflow-x-hidden w-full h-full relative '\n      onDrop={onDrop}\n      onDragOver={onDragOver}\n    >\n      <div\n        id='mobile-private-pointer'\n        className='flex items-center absolute top-2 md:top-3 left-1 text-sm z-10 rounded-md px-1.5 py-0.5 bg-amber-500 text-white'\n      >\n        <EyeSlashIcon className='w-4 mr-0.5' />\n        <span className='max-w-[65px] md:max-w-[150px] text-ellipsis overflow-hidden'>\n          {userData.username}\n        </span>\n      </div>\n      {isEmpty && (\n        <div className='relative text-sm text-center w-full h-full text-slate-500 flex items-center justify-center'>\n          내용이 없습니다\n          <br />\n          메시지를 보내서 멤버들과 토크를 시작해보세요!\n        </div>\n      )}\n      {talkArrived && (\n        <button\n          type='button'\n          onClick={onTalkArrivedConfirmed}\n          className=' hover:bg-amber-600 absolute bottom-40 animate-bounce mx-auto z-10 left-0 right-0 px-2 py-0.5 w-[85px] flex items-center justify-center text-sm font-medium bg-amber-500 text-white rounded-md'\n        >\n          <ChatBubbleOvalLeftEllipsisIcon className=' w-4 mr-0.5' />새 토크\n        </button>\n      )}\n      <TalkList\n        scrollbarRef={scrollbarRef}\n        isDataEnd={isDataEnd}\n        isEmpty={isEmpty}\n        talkSections={talkSections}\n        setSize={setSize}\n      />\n      <TalkForm\n        onSubmitForm={onSubmitForm}\n        talk={talk}\n        onChangeTalk={onChangeTalk}\n        placeholder={`${userData.username}에게 프라이빗 토크`}\n        data={[]}\n        inPage='private'\n        onImageUpload={onImageUpload}\n      />\n    </div>\n  );\n};\n\nexport default PrivatePage;\n","import { User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport React, { FC, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport useSWR from 'swr';\nimport Avvvatars from 'avvvatars-react';\n\ninterface PrivateItemProps {\n  member: User;\n  isOnline: boolean;\n}\nconst PrivateItem: FC<PrivateItemProps> = ({ member, isOnline }) => {\n  const { blooway } = useParams<{ blooway?: string }>();\n  const location = useLocation();\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher, {\n    dedupingInterval: 2000,\n  });\n  const date = localStorage.getItem(`${blooway}-${member.id}`) || 0;\n  const { data: unreadCount, mutate } = useSWR<number>(\n    userData ? `/api/blooways/${blooway}/privates/${member.id}/unreads?after=${date}` : null,\n    ApiFetcher,\n  );\n\n  useEffect(() => {\n    if (location.pathname === `/blooway/${blooway}/private/${member.id}`) {\n      mutate(0);\n    }\n  }, [mutate, location.pathname, blooway, member]);\n\n  return (\n    <NavLink\n      key={member.id}\n      className='flex items-center w-full'\n      activeClassName='text-amber-500 font-semibold'\n      to={`/blooway/${blooway}/private/${member.id}`}\n    >\n      <div className='relative'>\n        <Avvvatars size={24} shadow={true} style='shape' value={member.email} />\n        <div\n          className={`${\n            isOnline ? 'bg-emerald-400' : 'bg-slate-400'\n          } absolute right-0 bottom-0 border border-white w-[9px] h-[9px] rounded-full`}\n        ></div>\n      </div>\n      <span className='line-clamp-1 hover:text-amber-500 ml-1.5 overflow-hidden text-ellipsis max-w-[120px]'>\n        {member.username}\n      </span>\n      {member.id === userData?.id && <span className='ml-0.5'>(나)</span>}\n      {unreadCount !== undefined && unreadCount > 0 && (\n        <div\n          id='unread-count'\n          className='bg-amber-500 text-white ml-1.5 rounded-full w-4 h-4 text-[6px] p-1 flex justify-center items-center'\n        >\n          {unreadCount}\n        </div>\n      )}\n    </NavLink>\n  );\n};\n\nexport default PrivateItem;\n","import PrivateItem from '@components/PrivateItem';\nimport useSocket from '@hooks/useSocket';\nimport { User, UserWithOnline } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport useSWR from 'swr';\nimport { Disclosure } from '@headlessui/react';\n\nconst PrivateList: FC = () => {\n  const { blooway } = useParams<{ blooway?: string }>();\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher, {\n    dedupingInterval: 2000, // 2초\n  });\n  const { data: memberData } = useSWR<UserWithOnline[]>(\n    userData ? `/api/blooways/${blooway}/members` : null,\n    ApiFetcher,\n  );\n  const [socket] = useSocket(blooway);\n  const [onlineList, setOnlineList] = useState<number[]>([]);\n\n  useEffect(() => {\n    setOnlineList([]);\n  }, [blooway]);\n\n  useEffect(() => {\n    socket?.on('onlineList', (data: number[]) => {\n      setOnlineList(data);\n    });\n    // console.log('socket on private', socket?.hasListeners('private'), socket);\n    return () => {\n      // console.log('socket off private', socket?.hasListeners('private'));\n      socket?.off('onlineList');\n    };\n  }, [socket]);\n\n  return (\n    <>\n      <div>\n        {memberData?.map((member) => {\n          const isOnline = onlineList.includes(member.id);\n          return (\n            <Disclosure.Panel key={member.id} className='px-4 py-1.5 text-sm'>\n              <PrivateItem member={member} isOnline={isOnline} />\n            </Disclosure.Panel>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default PrivateList;\n","import { Area, User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport React, { FC, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport useSWR from 'swr';\n\ninterface AreaItemProps {\n  area: Area;\n}\nconst AreaItem: FC<AreaItemProps> = ({ area }) => {\n  const { blooway } = useParams<{ blooway?: string }>();\n  const location = useLocation();\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher, {\n    dedupingInterval: 2000,\n  });\n  const date = localStorage.getItem(`${blooway}-${area.name}`) || 0;\n  const { data: unreadCount, mutate } = useSWR<number>(\n    userData ? `/api/blooways/${blooway}/areas/${area.name}/unreads?after=${date}` : null,\n    ApiFetcher,\n  );\n\n  useEffect(() => {\n    if (location.pathname === `/blooway/${blooway}/area/${area.name}`) {\n      mutate(0);\n    }\n  }, [mutate, location.pathname, blooway, area]);\n\n  return (\n    <NavLink\n      key={area.name}\n      className='w-full flex items-center'\n      activeClassName='text-amber-500 font-semibold'\n      to={`/blooway/${blooway}/area/${area.name}`}\n    >\n      <div className='hover:text-amber-500  flex items-center overflow-hidden text-ellipsis max-w-[120px]'>\n        {area.name}\n      </div>\n      {unreadCount !== undefined && unreadCount > 0 && (\n        <div\n          id='unread-count'\n          className='bg-amber-500 text-white ml-1.5 rounded-full w-4 h-4 text-[6px] p-1 flex justify-center items-center'\n        >\n          {unreadCount}\n        </div>\n      )}\n    </NavLink>\n  );\n};\n\nexport default AreaItem;\n","import AreaItem from '@components/AreaItem';\nimport { Area, User } from '@typings/types';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport React, { FC } from 'react';\nimport { useParams } from 'react-router';\nimport useSWR from 'swr';\nimport { Disclosure } from '@headlessui/react';\n\nconst AreaList: FC = () => {\n  const { blooway } = useParams<{ blooway?: string }>();\n  const { data: userData } = useSWR<User>('/api/users', ApiFetcher, {\n    dedupingInterval: 2000,\n  });\n  const { data: areaData } = useSWR<Area[]>(userData ? `/api/blooways/${blooway}/areas` : null, ApiFetcher);\n\n  return (\n    <>\n      {areaData?.map((area) => {\n        return (\n          <Disclosure.Panel key={area.id} className='px-4 py-1.5 text-sm'>\n            <AreaItem area={area} />\n          </Disclosure.Panel>\n        );\n      })}\n    </>\n  );\n};\n\nexport default AreaList;\n","import React, { FC, memo, useCallback, useState } from 'react';\nimport { Disclosure } from '@headlessui/react';\nimport { ChevronUpIcon, PlusCircleIcon } from '@heroicons/react/24/outline';\nimport PrivateList from '@components/PrivateList';\nimport AreaList from '@components/AreaList';\nimport { CubeIcon, EyeSlashIcon, MegaphoneIcon } from '@heroicons/react/20/solid';\nimport { Link } from 'react-router-dom';\nimport AddAreaModal from '@components/AddAreaModal';\n\ninterface SideBarProps {}\n\nconst SideBar: FC<SideBarProps> = memo(() => {\n  const [showCta, setShowCta] = useState(true);\n  const [showAddAreaModal, setShowAddAreaModal] = useState(false);\n\n  const onRemoveCta = useCallback(() => {\n    setShowCta(false);\n  }, []);\n  const onClickAddArea = useCallback(() => {\n    setShowAddAreaModal(true);\n  }, []);\n\n  const onCloseModal = useCallback(() => {\n    setShowAddAreaModal(false);\n  }, []);\n  return (\n    <div className='hidden md:block w-[25%] rounded-md'>\n      <div className='overflow-y-auto w-full rounded-2xl bg-white p-2'>\n        <Disclosure defaultOpen={true} as='div'>\n          {({ open }) => (\n            <>\n              <Disclosure.Button className='flex w-full justify-between rounded-lg bg-slate-100 px-4 py-2 text-left text-sm font-medium  hover:bg-amber-500 hover:text-white focus:outline-none focus-visible:ring focus-visible:ring-amber-500 focus-visible:ring-opacity-75'>\n                <div className='flex items-center'>\n                  <CubeIcon className='w-5' />\n                  <span className='ml-1'>에리어</span>\n                </div>\n                <ChevronUpIcon className={`${open ? 'rotate-180 transform' : ''} h-5 w-5`} />\n              </Disclosure.Button>\n              <AreaList />\n              <button type='button' onClick={onClickAddArea} className='px-4 py-1.5 text-sm'>\n                <div className={`hover:text-amber-500 flex items-center`}>\n                  <PlusCircleIcon className='stroke-2 w-5 mr-0.5' />\n                  에리어 추가\n                </div>\n              </button>\n            </>\n          )}\n        </Disclosure>\n        <Disclosure defaultOpen={true} as='div' className='mt-2'>\n          {({ open }) => (\n            <>\n              <Disclosure.Button className='flex w-full justify-between rounded-lg bg-slate-100 px-4 py-2 text-left text-sm font-medium  hover:bg-amber-500 hover:text-white focus:outline-none focus-visible:ring focus-visible:ring-amber-500 focus-visible:ring-opacity-75'>\n                <div className='flex items-center'>\n                  <EyeSlashIcon className='w-5' />\n                  <span className='ml-1'>프라이빗 토크</span>\n                </div>\n                <ChevronUpIcon className={`${open ? 'rotate-180 transform' : ''} h-5 w-5`} />\n              </Disclosure.Button>\n              <PrivateList />\n            </>\n          )}\n        </Disclosure>\n        {showCta && (\n          <div id='dropdown-cta' className='p-4 mt-6 rounded-lg bg-indigo-50 '>\n            <div className='flex items-center mb-3'>\n              <div className='bg-indigo-200 flex items-center text-sm font-semibold mr-2 px-2.5 py-0.5 rounded'>\n                <MegaphoneIcon className='w-4' />\n                <span className='ml-1'>Blooways</span>\n              </div>\n              <button\n                type='button'\n                onClick={onRemoveCta}\n                className='ml-auto -mx-1.5 -my-1.5 bg-indigo-50  rounded-lg focus:ring-2 p-1 hover:bg-indigo-200 inline-flex h-6 w-6 '\n              >\n                <svg\n                  aria-hidden='true'\n                  className='w-4 h-4'\n                  fill='currentColor'\n                  viewBox='0 0 20 20'\n                  xmlns='http://www.w3.org/2000/svg'\n                >\n                  <path\n                    fillRule='evenodd'\n                    d='M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z'\n                    clipRule='evenodd'\n                  ></path>\n                </svg>\n              </button>\n            </div>\n            <p className='mb-3 text-sm text-indigo-900'>BlooWays Beta에 오신것을 환영합니다!</p>\n            <Link\n              to='/version-release'\n              className='text-sm text-indigo-900/60 underline font-medium hover:text-indigo-900/80'\n            >\n              버전 릴리즈 확인\n            </Link>\n          </div>\n        )}\n      </div>\n      <AddAreaModal\n        show={showAddAreaModal}\n        onCloseModal={onCloseModal}\n        setShowAddAreaModal={setShowAddAreaModal}\n      />\n    </div>\n  );\n});\n\nexport default SideBar;\n","import AddAreaModal from '@components/AddAreaModal';\nimport InviteBloowayModal from '@components/InviteBloowayModal';\nimport DropMenu from '@components/DropMenu';\nimport Modal from '@components/Modal';\nimport ApiFetcher from '@functions/ApiFetcher';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport useSocket from '@hooks/useSocket';\nimport AreaPage from '@pages/AreaPage';\nimport PrivatePage from '@pages/PrivatePage';\nimport { Area, User, UserWithOnline } from '@typings/types';\nimport axios from 'axios';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport useSWR from 'swr';\nimport { SubmitHandler, useForm } from 'react-hook-form';\nimport { Menu } from '@headlessui/react';\nimport SideBar from '@components/SideBar';\nimport { toastConfig } from '@functions/global';\nimport AreaItem from '@components/AreaItem';\nimport PrivateItem from '@components/PrivateItem';\nimport {\n  CubeIcon,\n  Squares2X2Icon,\n  SquaresPlusIcon,\n  UserGroupIcon,\n  UserIcon,\n  UserPlusIcon,\n} from '@heroicons/react/20/solid';\n\nconst Blooway = () => {\n  const params = useParams<{ blooway?: string }>();\n  const { blooway } = params;\n  const [socket, disconnectSocket] = useSocket(blooway);\n  const { data: userData, mutate: revalidateUser } = useSWR<User | false>('/api/users', ApiFetcher);\n  const { data: areaData } = useSWR<Area[]>(userData ? `/api/blooways/${blooway}/areas` : null, ApiFetcher);\n  const { data: memberData } = useSWR<UserWithOnline[]>(\n    userData ? `/api/blooways/${blooway}/members` : null,\n    ApiFetcher,\n  );\n  const [onlineList, setOnlineList] = useState<number[]>([]);\n  const [showCreateBloowayModal, setShowCreateBloowayModal] = useState(false);\n  const [showInviteBloowayModal, setShowInviteBloowayModal] = useState(false);\n  const [showAddAreaModal, setShowAddAreaModal] = useState(false);\n\n  interface CreateBloowayValues {\n    bloowayName: string;\n    bloowayLink: string;\n    description: string;\n  }\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { isSubmitting },\n  } = useForm<CreateBloowayValues>();\n\n  const onCreateBlooway: SubmitHandler<CreateBloowayValues> = useCallback(\n    (formData) => {\n      const { bloowayName, bloowayLink, description } = formData;\n      if (!bloowayName || !bloowayName.trim()) {\n        return toast.error('블루웨이 이름을 입력해주세요', toastConfig);\n      }\n      if (!bloowayLink || !bloowayLink.trim()) {\n        return toast.error('키워드 링크를 입력해주세요', toastConfig);\n      }\n      if (bloowayName.length > 14) {\n        return toast.error('14자 이내의 블루웨이 이름을 입력해주세요.', toastConfig);\n      }\n      if (bloowayLink.length > 14) {\n        return toast.error('14자 이내의 블루웨이 링크를 입력해주세요.', toastConfig);\n      }\n      axios\n        .post('/api/blooways', {\n          blooway: bloowayName,\n          link: bloowayLink,\n          description,\n        })\n        .then(() => {\n          revalidateUser();\n          setShowCreateBloowayModal(false);\n          setValue('bloowayName', '');\n          setValue('bloowayLink', '');\n          setValue('description', '');\n          return toast.success('새 블루웨이가 생성되었습니다', toastConfig);\n        })\n        .catch((error) => {\n          console.dir(error);\n          toast.error(error.response?.data, toastConfig);\n        });\n    },\n    [revalidateUser, setValue],\n  );\n\n  const onClickCreateBlooway = useCallback(() => {\n    setShowCreateBloowayModal(true);\n  }, []);\n\n  const onClickAddArea = useCallback(() => {\n    setShowAddAreaModal(true);\n  }, []);\n\n  const onClickInviteBlooway = useCallback(() => {\n    setShowInviteBloowayModal(true);\n  }, []);\n\n  const onCloseModal = useCallback(() => {\n    setShowCreateBloowayModal(false);\n    setShowAddAreaModal(false);\n    setShowInviteBloowayModal(false);\n  }, []);\n\n  useEffect(() => {\n    socket?.on('onlineList', (data: number[]) => {\n      setOnlineList(data);\n    });\n    return () => {\n      socket?.off('onlineList');\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    return () => {\n      disconnectSocket();\n    };\n  }, [disconnectSocket, blooway]);\n  useEffect(() => {\n    if (areaData && userData) {\n      socket?.emit('signin', { id: userData?.id, areas: areaData.map((v) => v.id) });\n    }\n  }, [socket, userData, areaData]);\n\n  if (userData === false) {\n    return <Redirect to='/signin' />;\n  }\n\n  return (\n    <div\n      id='blooway-layout'\n      className='overflow-hidden pt-14 pb-2 h-screen mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-slate-800'\n    >\n      <div className='pt-2.5 h-9 border-b-amber-500 border-b p-2 justify-between text-base flex items-center'>\n        <div className='flex z-20 items-center'>\n          <DropMenu\n            menuTitle={userData?.Blooways.find((v) => v.link === blooway)?.name}\n            chevron={true}\n            direction='left'\n          >\n            <Menu.Item>\n              {({ active }) => (\n                <button\n                  onClick={onClickInviteBlooway}\n                  className={`${\n                    active ? 'bg-amber-500 text-white font-semibold' : 'text-slate-800'\n                  } group flex w-full items-center rounded-md px-2 py-2 text-sm`}\n                >\n                  <UserPlusIcon className='w-4 mr-1' />\n                  <span className='text-ellipsis line-clamp-1 overflow-hidden max-w-[80px]'>\n                    {userData?.Blooways.find((v) => v.link === blooway)?.name}\n                  </span>\n                  에 멤버 초대\n                </button>\n              )}\n            </Menu.Item>\n\n            <Menu.Item>\n              {({ active }) => (\n                <button\n                  type='button'\n                  onClick={onClickAddArea}\n                  className={`${\n                    active ? 'bg-amber-500 text-white font-semibold' : 'text-slate-800'\n                  } group flex w-full items-center rounded-md px-2 py-2 text-sm`}\n                >\n                  <CubeIcon className='w-4 mr-1' />\n                  <span className='text-ellipsis line-clamp-1 overflow-hidden max-w-[80px]'>\n                    {userData?.Blooways.find((v) => v.link === blooway)?.name}\n                  </span>\n                  에 에리어 추가\n                </button>\n              )}\n            </Menu.Item>\n            <Menu.Item>\n              {({ active }) => (\n                <button\n                  type='button'\n                  onClick={onClickCreateBlooway}\n                  className={`${\n                    active ? 'bg-amber-500 text-white font-semibold' : 'text-slate-800'\n                  } group flex w-full items-center rounded-md px-2 py-2 text-sm`}\n                >\n                  <SquaresPlusIcon className='w-4 mr-1' />새 블루웨이 생성\n                </button>\n              )}\n            </Menu.Item>\n            <div className='h-[1.5px] w-full px-4 my-1.5 bg-slate-200'></div>\n            {userData?.Blooways.map((blooway) => {\n              return (\n                <Menu.Item key={blooway.link}>\n                  {({ active }) => (\n                    <Link\n                      to={`/blooway/${blooway.link}/area/전체`}\n                      className={`${\n                        active ? 'bg-amber-500 text-white' : 'text-slate-800'\n                      } group flex w-full items-center rounded-md px-2 py-2 text-sm`}\n                    >\n                      {blooway.link === 'all' ? (\n                        <UserGroupIcon className='w-4 mr-1' />\n                      ) : blooway.link === userData.username ? (\n                        <UserIcon className='w-4 mr-1' />\n                      ) : (\n                        <Squares2X2Icon className='w-4 mr-1' />\n                      )}\n                      {blooway.name}\n                    </Link>\n                  )}\n                </Menu.Item>\n              );\n            })}\n          </DropMenu>\n          {userData?.username === blooway && (\n            <span className='ml-2 inline-flex items-center rounded-md bg-slate-50 px-2 py-1 text-xs font-medium text-slate-800 ring-1 ring-inset ring-slate-500/10'>\n              Me\n            </span>\n          )}\n          {'all' === blooway && (\n            <span className='ml-2 inline-flex items-center rounded-md bg-slate-50 px-2 py-1 text-xs font-medium text-slate-800 ring-1 ring-inset ring-slate-500/10'>\n              Base\n            </span>\n          )}\n          <span className='hidden md:inline text-xs ml-3 text-slate-500'>\n            {userData?.Blooways.find((v) => v.link === blooway)?.description}\n          </span>\n        </div>\n        <div className='md:flex  hidden items-center text-slate-500 text-sm font- font-normal'>\n          {userData?.email}\n        </div>\n        <div className='flex z-20 md:hidden items-center gap-2.5'>\n          <DropMenu menuTitle='에리어' chevron={true} direction='right'>\n            {areaData?.map((area) => {\n              return (\n                <Menu.Item key={area.id}>\n                  <button className=' group flex w-full items-center rounded-md px-2 py-2 text-sm'>\n                    <AreaItem area={area} />\n                  </button>\n                </Menu.Item>\n              );\n            })}\n          </DropMenu>\n          <DropMenu menuTitle='프라이빗 토크' chevron={true} direction='right'>\n            {memberData?.map((member) => {\n              const isOnline = onlineList.includes(member.id);\n              return (\n                <Menu.Item key={member.id}>\n                  <button className=' group flex w-full items-center rounded-md px-2 py-2 text-sm'>\n                    <PrivateItem member={member} isOnline={isOnline} />\n                  </button>\n                </Menu.Item>\n              );\n            })}\n          </DropMenu>\n        </div>\n      </div>\n      <div id='blooway-side-splitter' className='flex w-full h-full'>\n        <SideBar />\n        <div className='flex w-full md:w-[75%]'>\n          <Switch>\n            <Route path='/blooway/:blooway/area/:area' component={AreaPage} />\n            <Route path='/blooway/:blooway/private/:id' component={PrivatePage} />\n          </Switch>\n        </div>\n      </div>\n      <Modal\n        modalType={0}\n        modalTitle='새로운 블루웨이 생성하기'\n        show={showCreateBloowayModal}\n        onCloseModal={onCloseModal}\n      >\n        <form id='create-blooway-modal' className='w-full' onSubmit={handleSubmit(onCreateBlooway)}>\n          <div className='w-full my-4'>\n            <div>\n              <span>블루웨이 이름</span>\n              <input\n                id='bloowayName'\n                type='text'\n                className='mt-2 relative block w-full appearance-none rounded-md  border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n                placeholder='2-14자 이내로 입력해주세요'\n                {...register('bloowayName', {\n                  minLength: 2,\n                  onChange: (e) => setValue('bloowayLink', e.target.value),\n                })}\n              />\n            </div>\n            <div className='mt-2'>\n              <span>키워드 링크</span>\n              <input\n                id='bloowayLink'\n                type='text'\n                className='mt-2 relative block w-full appearance-none rounded-md  border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n                placeholder='링크에 표시할 키워드입니다'\n                {...register('bloowayLink', {\n                  minLength: 2,\n                })}\n              />\n            </div>\n            <div className='mt-2'>\n              <span>블루웨이 정보</span>\n              <input\n                id='description'\n                type='text'\n                className='mt-2 relative block w-full appearance-none rounded-md  border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n                placeholder='누구나 환영해요'\n                {...register('description', {})}\n              />\n            </div>\n          </div>\n          <div className='flex justify-center'>\n            <button\n              disabled={isSubmitting}\n              type='submit'\n              className='inline-flex justify-center rounded-md border border-transparent bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2'\n            >\n              생성하기\n            </button>\n          </div>\n        </form>\n      </Modal>\n      <AddAreaModal\n        show={showAddAreaModal}\n        onCloseModal={onCloseModal}\n        setShowAddAreaModal={setShowAddAreaModal}\n      />\n      <InviteBloowayModal\n        show={showInviteBloowayModal}\n        onCloseModal={onCloseModal}\n        setShowInviteBloowayModal={setShowInviteBloowayModal}\n      />\n\n      <ToastContainer position='bottom-center' />\n    </div>\n  );\n};\n\nexport default Blooway;\n"],"names":["_ref","show","onCloseModal","setShowAddAreaModal","blooway","useParams","userData","useSWR","ApiFetcher","data","revalidateArea","concat","mutate","_useForm","useForm","register","handleSubmit","isSubmitting","formState","onAddArea","useCallback","formData","areaName","trim","length","toast","toastConfig","axios","name","then","catch","error","_error$response","console","dir","response","React","Modal","modalType","modalTitle","id","className","onSubmit","_extends","type","placeholder","minLength","disabled","setShowInviteBloowayModal","revalidateMember","_useForm$formState","errors","onInviteMember","memberEmail","email","maxLength","pattern","value","message","sockets","disconnect","io","backUrl","transports","on","log","undefined","initialValue","_useState2","useState","setValue","e","target","makeSection","talkList","sections","forEach","talk","monthDate","dayjs","createdAt","format","Array","isArray","push","setShowInviteAreaModal","_useParams","area","revalidateMembers","MentionsInputText","styled","MentionsInput","_templateObject","onSubmitForm","onChangeTalk","inPage","onImageUpload","showInviteAreaModal","onKeydownTalk","key","shiftKey","preventDefault","renderUserSuggestion","member","search","highlightedDisplay","index","focus","Avvvatars","size","style","onClickInviteArea","onChange","onKeyPress","wrap","forceSuggestionsAboveCursor","Mention","appendSpaceOnAdd","trigger","map","v","display","username","renderSuggestion","htmlFor","PhotoIcon","multiple","accept","onClick","UserPlusIcon","RocketLaunchIcon","InviteAreaModal","memo","showCarousel","setShowCarousel","user","Sender","User","result","useMemo","content","startsWith","src","regexifyString","decorator","match","matched","Link","to","input","onShowCarousel","onCloseCarousel","NavLink","activeClassName","scrollbarRef","isDataEnd","isEmpty","talkSections","setSize","onScroll","scrollTop","_scrollbarRef$current","_scrollbarRef$current2","current","getScrollHeight","scrollHeight","Scrollbars","autoHide","ref","onScrollFrame","Object","entries","_ref2","_ref3","date","talks","TalkField","_talkData$","_talkData","socket","_slicedToArray","useSocket","areasData","areaData","find","_useSWRInfinite","useSWRInfinite","onSuccess","setTimeout","scrollToBottom","talkData","mutateTalk","areaMembersData","_useInput2","useInput","setTalk","talkArrived","setTalkArrived","useRef","setDragOver","setImageUploaded","_useState8","savedTalk","prevTalkData","_talkData$0$","unshift","UserId","Date","AreaId","Area","localStorage","setItem","getTime","toString","onMessage","getClientHeight","getScrollTop","useEffect","off","onDrop","FormData","dataTransfer","items","i","kind","file","getAsFile","append","files","onTalkArrivedConfirmed","_scrollbarRef$current3","onDragOver","Redirect","apply","reverse","CubeIcon","ChatBubbleOvalLeftEllipsisIcon","TalkList","TalkForm","meData","SenderId","ReceiverId","Receiver","Number","EyeSlashIcon","isOnline","location","useLocation","dedupingInterval","getItem","_useSWR2","unreadCount","pathname","shadow","memberData","onlineList","setOnlineList","includes","Disclosure","PrivateItem","AreaItem","showCta","setShowCta","_useState4","showAddAreaModal","onRemoveCta","onClickAddArea","defaultOpen","as","open","ChevronUpIcon","AreaList","PlusCircleIcon","PrivateList","MegaphoneIcon","fill","viewBox","xmlns","fillRule","d","clipRule","AddAreaModal","_userData$Blooways$fi","_userData$Blooways$fi4","_useSocket2","disconnectSocket","_useSWR","revalidateUser","showCreateBloowayModal","setShowCreateBloowayModal","_useState6","showInviteBloowayModal","onCreateBlooway","bloowayName","bloowayLink","description","link","onClickCreateBlooway","onClickInviteBlooway","emit","areas","DropMenu","menuTitle","Blooways","chevron","direction","Menu","_userData$Blooways$fi2","active","_userData$Blooways$fi3","SquaresPlusIcon","_ref4","UserGroupIcon","UserIcon","Squares2X2Icon","SideBar","Switch","Route","path","component","AreaPage","PrivatePage","InviteBloowayModal","ToastContainer","position"],"sourceRoot":""}