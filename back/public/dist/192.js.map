{"version":3,"file":"192.js","mappings":"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","sources":["webpack://blooways-front/./node_modules/@heroicons/react/20/solid/esm/LockClosedIcon.js","webpack://blooways-front/./pages/SignIn/index.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction LockClosedIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(LockClosedIcon);\nexport default ForwardRef;","import ApiFetcher from '@functions/ApiFetcher';\nimport axios from 'axios';\nimport React, { useCallback, useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport useSWR from 'swr';\nimport { LockClosedIcon } from '@heroicons/react/20/solid';\nimport { SubmitHandler, useForm } from 'react-hook-form';\nimport { backUrl, logoUrl } from '@functions/global';\n\nconst SignIn = () => {\n  const { data: userData, error: apiError, mutate } = useSWR('/api/users', ApiFetcher);\n  const [signInError, setSignInError] = useState(false);\n\n  interface SignInValues {\n    email: string;\n    password: string;\n  }\n  const {\n    register,\n    handleSubmit,\n    formState: { isSubmitting, errors },\n  } = useForm<SignInValues>();\n\n  const onSignIn: SubmitHandler<SignInValues> = useCallback(\n    (formData) => {\n      const { email, password } = formData;\n      setSignInError(false);\n      axios\n        .post(\n          '/api/users/signin',\n          { email, password },\n          {\n            withCredentials: true,\n          },\n        )\n        .then(() => {\n          mutate();\n        })\n        .catch((error) => {\n          console.dir(error);\n          setSignInError(error.response?.status === 401);\n        });\n    },\n    [mutate],\n  );\n\n  const onSignGoogle = useCallback(() => {\n    window.location.href = `${backUrl}/api/auth/google`;\n  }, []);\n  const onSignKakao = useCallback(() => {\n    window.location.href = `${backUrl}/api/auth/kakao`;\n  }, []);\n\n  if (!apiError && userData) {\n    // signIn ok\n    return <Redirect to={`/blooway/${userData.username}/area/전체`} />;\n  }\n\n  return (\n    <div className='h-screen text-slate-800'>\n      <div className='flex h-full  items-center justify-center py-12 px-4 sm:px-6 lg:px-8'>\n        <div className='w-full max-w-md space-y-8'>\n          <div>\n            <div className='mx-auto h-24 w-24  relative'>\n              <img className='aspect-square cursor-pointer' src={logoUrl} alt='logo-image' />\n            </div>\n            <h2 className='mt-5 text-center text-2xl font-bold tracking-tight '>\n              보유한 계정으로 로그인하세요\n            </h2>\n            <p className='mt-2 text-center text-sm '>\n              BlooWays 멤버가 아니신가요?{' '}\n              <Link key={''} to='/signup'>\n                <span className='underline cursor-pointer font-medium text-amber-500 hover:text-amber-600'>\n                  가입하기\n                </span>\n              </Link>\n            </p>\n          </div>\n\n          <div className='w-full flex relative top-3 justify-between h-0.5 items-center'>\n            <div className='w-full  bg-slate-200 h-[1.5px]' />\n            <div className='text-slate-400 text-xs w-full text-center'>소셜 계정 로그인</div>\n            <div className='w-full  bg-slate-200 h-[1.5px]' />\n          </div>\n          <div>\n            <div className='flex gap-2'>\n              <button\n                type='button'\n                onClick={onSignGoogle}\n                className='group  relative flex w-full justify-center rounded-md border border-transparent ring-1 ring-slate-300  hover:bg-slate-100 py-2 px-4 text-sm font-medium'\n              >\n                <span className='absolute inset-y-0 left-0 flex items-center pl-3'>\n                  <img\n                    className='w-5 grayscale'\n                    crossOrigin='anonymous'\n                    src='https://cdn.cdnlogo.com/logos/g/35/google-icon.svg'\n                  />\n                </span>\n                Google\n              </button>\n              <button\n                type='button'\n                onClick={onSignKakao}\n                className='group  relative flex w-full justify-center rounded-md border border-transparent ring-1 ring-slate-300  hover:bg-slate-100 py-2 px-4 text-sm font-medium'\n              >\n                <span className='absolute inset-y-0 left-0 flex items-center pl-3'>\n                  <img\n                    className='w-8 grayscale'\n                    crossOrigin='anonymous'\n                    src='https://developers.kakao.com/static/images/pc/product/icon/kakaoTalk.png'\n                  />\n                </span>\n                Kakao\n              </button>\n            </div>\n          </div>\n\n          <div className='w-full flex relative top-3 justify-between h-0.5 items-center'>\n            <div className='w-full  bg-slate-200 h-[1.5px]' />\n            <div className='text-slate-400 text-xs w-full text-center'>일반 계정 로그인</div>\n            <div className='w-full  bg-slate-200 h-[1.5px]' />\n          </div>\n\n          <form className='mt-8 space-y-3' onSubmit={handleSubmit(onSignIn)}>\n            <input type='hidden' name='remember' defaultValue='true' />\n            <div className='-space-y-px rounded-md '>\n              <div>\n                <input\n                  id='email'\n                  type='text'\n                  placeholder='이메일 주소'\n                  className='relative block w-full appearance-none rounded-none rounded-t-md border border-slate-300 px-3 py-2  placeholder-slate-500 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n                  {...register('email', {\n                    required: '이메일은 필수 입력입니다',\n                    pattern: {\n                      value:\n                        /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,\n                      message: '이메일 형식에 맞지 않습니다',\n                    },\n                  })}\n                />\n              </div>\n              <div>\n                <input\n                  id='password'\n                  type='password'\n                  placeholder='비밀번호'\n                  className='relative block w-full appearance-none rounded-none rounded-b-md border border-slate-300 px-3 py-2 placeholder-slate-500 focus:z-10 focus:border-amber-500 focus:outline-none focus:ring-amber-500 sm:text-sm'\n                  {...register('password', {\n                    required: '비밀번호를 입력해주세요',\n                  })}\n                />\n              </div>\n            </div>\n\n            {/* <div className='flex items-center justify-between'>\n                <div className='text-sm'>\n                  <Link href='/support'>\n                    <span className='cursor-pointer font-medium text-amber-500 hover:text-amber-600'>\n                      비밀번호를 잊으셨나요?\n                    </span>\n                  </Link>\n                </div>\n              </div> */}\n\n            <div>\n              <div>\n                <div className='h-6 flex justify-center text-orange-400 text-xs ' role='alert'>\n                  {errors.email\n                    ? errors.email.message\n                    : errors.password\n                    ? errors.password.message\n                    : signInError}\n                </div>\n                <button\n                  type='submit'\n                  disabled={isSubmitting}\n                  className='group relative flex w-full justify-center rounded-md border border-transparent bg-amber-500 py-2 px-4 text-sm font-medium text-white hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2'\n                >\n                  <span className='absolute inset-y-0 left-0 flex items-center pl-3'>\n                    <LockClosedIcon\n                      className='h-5 w-5 text-amber-600 group-hover:text-amber-50'\n                      aria-hidden='true'\n                    />\n                  </span>\n                  로그인\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SignIn;\n"],"names":["title","titleId","props","svgRef","Object","assign","xmlns","viewBox","fill","ref","id","fillRule","d","clipRule","_useSWR","useSWR","ApiFetcher","userData","data","apiError","error","mutate","_useState2","useState","signInError","setSignInError","_useForm","useForm","register","handleSubmit","_useForm$formState","formState","isSubmitting","errors","onSignIn","useCallback","formData","email","password","axios","withCredentials","then","catch","_error$response","console","dir","response","status","onSignGoogle","window","location","href","concat","backUrl","onSignKakao","React","Redirect","to","username","className","src","logoUrl","alt","Link","key","type","onClick","crossOrigin","onSubmit","name","defaultValue","_extends","placeholder","required","pattern","value","message","role","disabled","LockClosedIcon"],"sourceRoot":""}